<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± Ø§Ù„Ø£Ø¨ÙŠØ¶ - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© 8.0</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <style>
        :root {
            --primary-dark: #1a5276;
            --primary: #2c3e50;
            --accent-green: #27ae60;
            --accent-light: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --info-blue: #3498db;
            --bg-light: #f8f9fa;
            --card-bg: #ffffff;
            --text-dark: #2c3e50;
            --text-light: #7f8c8d;
            --border-color: #dfe6e9;
            --shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            --shadow-heavy: 0 15px 50px rgba(0, 0, 0, 0.1);
            --radius: 12px;
            --transition: all 0.3s ease;
            --phase-2-color: #fff3cd;
            --phase-3-color: #d4edda;
            --phase-4-color: #d1ecf1;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Cairo', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            color: white;
            padding: 25px 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            border-bottom: 5px solid var(--accent-green);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" opacity="0.05"><path fill="white" d="M50,20 C60,15 70,10 80,15 C90,20 95,30 90,40 C85,50 75,55 65,60 C55,65 45,70 35,65 C25,60 15,50 20,40 C25,30 35,25 45,20 Z"/></svg>');
            background-size: 80px;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            position: relative;
            z-index: 1;
        }

        .header-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .header-controls {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 10px;
            z-index: 1;
        }

        .header-btn {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 18px;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            backdrop-filter: blur(10px);
        }

        .header-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        /* Tabs Navigation */
        .tabs {
            display: flex;
            background: white;
            border-bottom: 2px solid var(--border-color);
            padding: 0;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .tab-btn {
            padding: 18px 30px;
            background: none;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-light);
            cursor: pointer;
            transition: var(--transition);
            border-bottom: 4px solid transparent;
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(39, 174, 96, 0.1), transparent);
            transition: left 0.6s;
        }

        .tab-btn:hover::before {
            left: 100%;
        }

        .tab-btn.active {
            color: var(--primary);
            border-bottom-color: var(--accent-green);
            background: linear-gradient(to bottom, transparent, rgba(39, 174, 96, 0.05));
        }

        .tab-btn:hover:not(.active) {
            color: var(--primary);
            background: rgba(39, 174, 96, 0.03);
        }

        /* Tab Content */
        .tab-content {
            display: none;
            max-width: 1800px;
            margin: 30px auto;
            padding: 0 20px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tab-content.active {
            display: block;
        }

        /* Main Container */
        .main-container {
            display: grid;
            grid-template-columns: 500px 1fr;
            gap: 30px;
        }

        @media (max-width: 1300px) {
            .main-container {
                grid-template-columns: 1fr;
            }
        }

        /* Sidebar */
        .sidebar {
            background: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 30px;
            height: fit-content;
            position: sticky;
            top: 90px;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--primary);
            font-size: 1.15rem;
            margin: 30px 0 18px 0;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border-color);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -2px;
            right: 0;
            width: 60px;
            height: 2px;
            background: linear-gradient(to left, var(--accent-green), transparent);
        }

        .section-title:first-child {
            margin-top: 0;
        }

        .input-group {
            margin-bottom: 22px;
            position: relative;
        }

        .input-group label {
            display: block;
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .input-group input, 
        .input-group select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 1rem;
            background: #fff;
            transition: var(--transition);
            font-family: inherit;
        }

        .input-group input:focus, 
        .input-group select:focus {
            outline: none;
            border-color: var(--accent-green);
            box-shadow: 0 0 0 4px rgba(39, 174, 96, 0.15);
            transform: translateY(-1px);
        }

        .input-note {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-top: 6px;
            display: block;
            padding-right: 5px;
            font-style: italic;
        }

        .value-display {
            position: absolute;
            left: 16px;
            top: 43px;
            background: var(--primary);
            color: white;
            padding: 2px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            pointer-events: none;
        }

        .phase-badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 25px;
            font-size: 0.8rem;
            font-weight: 700;
            margin-top: 10px;
            text-align: center;
            width: 100%;
            letter-spacing: 0.5px;
        }

        .phase-2 { 
            background: var(--phase-2-color); 
            color: #856404; 
            border: 2px solid #ffeaa7;
            box-shadow: 0 2px 5px rgba(133, 100, 4, 0.1);
        }
        .phase-3 { 
            background: var(--phase-3-color); 
            color: #155724; 
            border: 2px solid #c3e6cb;
            box-shadow: 0 2px 5px rgba(21, 87, 36, 0.1);
        }
        .phase-4 { 
            background: var(--phase-4-color); 
            color: #0c5460; 
            border: 2px solid #bee5eb;
            box-shadow: 0 2px 5px rgba(12, 84, 96, 0.1);
        }

        /* Converter Box */
        .converter-box {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: var(--radius);
            padding: 25px;
            margin: 25px 0;
            border: 2px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .converter-box::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, rgba(39, 174, 96, 0.1), transparent);
            border-radius: 0 0 0 100%;
        }

        .converter-box h4 {
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.1rem;
        }

        .converter-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .converter-result {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid var(--border-color);
            text-align: center;
            font-weight: 700;
            color: var(--primary);
            font-size: 1.1rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        /* Results Panel */
        .results-panel {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            border-top: 5px solid var(--accent-green);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, rgba(39, 174, 96, 0.05), transparent);
            border-radius: 0 0 0 100%;
        }

        .stat-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-heavy);
        }

        .stat-card.financial {
            border-top-color: var(--warning);
        }

        .stat-card.environmental {
            border-top-color: var(--info-blue);
        }

        .stat-card label {
            display: block;
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-card .value {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            line-height: 1.2;
            text-shadow: 0 2px 3px rgba(0,0,0,0.05);
        }

        .stat-card .unit {
            font-size: 0.95rem;
            color: var(--text-light);
            margin-right: 5px;
            font-weight: 600;
        }

        .stat-trend {
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 10px;
            margin-right: 10px;
            font-weight: 600;
        }

        .trend-up { background: #d4edda; color: #155724; }
        .trend-down { background: #f8d7da; color: #721c24; }

        /* Charts Container */
        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        @media (max-width: 900px) {
            .charts-container {
                grid-template-columns: 1fr;
            }
        }

        .chart-box {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            height: 380px;
            border: 1px solid rgba(0,0,0,0.05);
            transition: var(--transition);
        }

        .chart-box:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-heavy);
        }

        .chart-box h3 {
            margin-bottom: 25px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.2rem;
        }

        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 25px 0;
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 20px;
            text-align: center;
            font-weight: 700;
            font-size: 1.05rem;
            border-bottom: 3px solid var(--accent-green);
        }

        .comparison-table td {
            padding: 18px 20px;
            border-bottom: 1px solid var(--border-color);
            text-align: center;
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        .comparison-table tr:hover {
            background: linear-gradient(to right, rgba(39, 174, 96, 0.03), transparent);
        }

        .comparison-table td:first-child {
            font-weight: 600;
            color: var(--primary);
            text-align: right;
            background: rgba(44, 62, 80, 0.02);
        }

        .better {
            background: linear-gradient(135deg, #d4edda, #c3e6cb) !important;
            color: #155724;
            font-weight: 700;
            position: relative;
        }

        .better::after {
            content: 'âœ“';
            position: absolute;
            left: 10px;
            color: #155724;
            font-weight: bold;
        }

        .worse {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb) !important;
            color: #721c24;
            position: relative;
        }

        .worse::after {
            content: 'âœ—';
            position: absolute;
            left: 10px;
            color: #721c24;
            font-weight: bold;
        }

        /* Canvas Container */
        .canvas-container {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(0,0,0,0.05);
        }

        .canvas-container h3 {
            margin-bottom: 25px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.3rem;
        }

        #farmCanvas {
            width: 100%;
            height: auto;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            background: linear-gradient(135deg, #fdfdfd, #f5f7fa);
            display: block;
            margin: 0 auto;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .canvas-legend {
            display: flex;
            gap: 25px;
            margin-top: 20px;
            flex-wrap: wrap;
            padding: 20px;
            background: rgba(248, 249, 250, 0.8);
            border-radius: 10px;
            border: 1px solid var(--border-color);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            padding: 8px 15px;
            background: white;
            border-radius: 6px;
            border: 1px solid var(--border-color);
        }

        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            border: 2px solid rgba(0,0,0,0.1);
        }

        /* Guide Section */
        .guide-section {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 35px;
            box-shadow: var(--shadow);
            border-top: 5px solid var(--info-blue);
            border: 1px solid rgba(0,0,0,0.05);
        }

        .guide-section h2 {
            color: var(--primary);
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 3px solid var(--border-color);
            font-size: 1.5rem;
            position: relative;
        }

        .guide-section h2::after {
            content: '';
            position: absolute;
            bottom: -3px;
            right: 0;
            width: 100px;
            height: 3px;
            background: linear-gradient(to left, var(--info-blue), transparent);
        }

        .guide-section h3 {
            color: var(--accent-green);
            margin: 30px 0 20px 0;
            font-size: 1.3rem;
            padding-right: 15px;
            border-right: 4px solid var(--accent-green);
        }

        .formula-box {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-right: 6px solid var(--primary);
            padding: 25px;
            margin: 20px 0;
            font-family: 'Courier New', 'Cairo', monospace;
            font-size: 1rem;
            border-radius: 0 12px 12px 0;
            overflow-x: auto;
            line-height: 1.8;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.05);
        }

        .formula-box code {
            color: #e74c3c;
            font-weight: 600;
        }

        .phase-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .phase-card {
            padding: 25px;
            border-radius: 10px;
            border: 2px solid var(--border-color);
            transition: var(--transition);
            background: white;
            position: relative;
            overflow: hidden;
        }

        .phase-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 0 60px 60px 0;
            border-color: transparent rgba(39, 174, 96, 0.1) transparent transparent;
        }

        .phase-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-color: var(--accent-green);
        }

        .phase-card h4 {
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 1.15rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-light));
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(39, 174, 96, 0.4);
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 14px 24px;
            border-radius: 10px;
            font-size: 0.95rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            justify-content: center;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(44, 62, 80, 0.2);
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            color: var(--text-light);
            font-size: 0.95rem;
            border-top: 2px solid var(--border-color);
            margin-top: 50px;
            background: white;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
        }

        .footer-logo {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .footer-contact {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background: var(--bg-light);
            border-radius: 8px;
        }

        /* Scientific Box */
        .scientific-box {
            background: linear-gradient(135deg, #e8f4f8, #d4e7f0);
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            border-right: 5px solid var(--info-blue);
            position: relative;
        }

        .scientific-box h4 {
            color: #0c5460;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .scientific-box ul {
            padding-right: 25px;
        }

        .scientific-box li {
            margin-bottom: 10px;
            position: relative;
        }

        .scientific-box li::before {
            content: 'â€¢';
            color: var(--info-blue);
            font-weight: bold;
            position: absolute;
            right: -20px;
        }

        /* Responsive Adjustments */
        @media (max-width: 1024px) {
            .header h1 {
                font-size: 1.6rem;
            }
            
            .header-controls {
                position: static;
                margin-top: 20px;
                justify-content: center;
                transform: none;
            }
            
            .tabs {
                overflow-x: auto;
                padding-bottom: 5px;
            }
            
            .tab-btn {
                padding: 15px 20px;
                font-size: 0.9rem;
                white-space: nowrap;
            }
            
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .phase-info-grid {
                grid-template-columns: 1fr;
            }
            
            .converter-inputs {
                grid-template-columns: 1fr;
            }
            
            .main-container {
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.4rem;
                flex-direction: column;
                gap: 10px;
            }
            
            .tab-btn {
                padding: 12px 15px;
                font-size: 0.85rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .tab-content {
                padding: 0 15px;
            }
            
            .chart-box {
                height: 300px;
                padding: 20px;
            }
            
            .guide-section {
                padding: 25px;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 20px 15px;
            }
            
            .header-subtitle {
                font-size: 0.9rem;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .canvas-legend {
                flex-direction: column;
                gap: 15px;
            }
            
            .comparison-table {
                font-size: 0.85rem;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 12px 8px;
            }
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-light));
            color: white;
            padding: 18px 28px;
            border-radius: 12px;
            box-shadow: var(--shadow-heavy);
            z-index: 10000;
            display: flex;
            align-items: center;
            gap: 12px;
            transform: translateY(150px);
            opacity: 0;
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), opacity 0.4s;
            max-width: 400px;
            border: 1px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.error {
            background: linear-gradient(135deg, var(--danger), #c0392b);
        }

        .toast.warning {
            background: linear-gradient(135deg, var(--warning), #e67e22);
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            flex-direction: column;
            gap: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid var(--border-color);
            border-top-color: var(--accent-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 300px;
            background: var(--primary);
            color: white;
            text-align: center;
            padding: 12px;
            border-radius: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            right: 50%;
            margin-right: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85rem;
            font-weight: normal;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            right: 50%;
            margin-right: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--primary) transparent transparent transparent;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            background: var(--border-color);
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
            height: 12px;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-green), var(--accent-light));
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        /* Phase Indicators */
        .phase-indicators {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            position: relative;
        }

        .phase-indicator {
            text-align: center;
            flex: 1;
            position: relative;
            padding: 15px 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .phase-indicator.active {
            background: rgba(39, 174, 96, 0.1);
            border-radius: 8px;
        }

        .phase-indicator .phase-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--border-color);
            margin: 0 auto 10px;
            border: 3px solid white;
            box-shadow: 0 0 0 2px var(--border-color);
            transition: var(--transition);
        }

        .phase-indicator.active .phase-dot {
            background: var(--accent-green);
            box-shadow: 0 0 0 2px var(--accent-green), 0 0 10px rgba(39, 174, 96, 0.5);
        }

        .phase-indicator .phase-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-light);
            transition: var(--transition);
        }

        .phase-indicator.active .phase-label {
            color: var(--accent-green);
        }

        .phase-connector {
            position: absolute;
            top: 30px;
            right: 25%;
            left: 25%;
            height: 2px;
            background: var(--border-color);
            z-index: -1;
        }

        /* Data Cards */
        .data-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid var(--accent-green);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: var(--transition);
        }

        .data-card:hover {
            transform: translateX(5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .data-card h4 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .data-value {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
            margin: 10px 0;
        }

        .data-unit {
            font-size: 1rem;
            color: var(--text-light);
            font-weight: 600;
        }

        /* Advanced Input Groups */
        .input-group-advanced {
            background: rgba(248, 249, 250, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid transparent;
            transition: var(--transition);
        }

        .input-group-advanced:hover {
            border-color: var(--accent-green);
            background: white;
        }

        .input-group-advanced label {
            font-size: 1rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .input-range {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--border-color);
            border-radius: 4px;
            outline: none;
            margin: 15px 0;
        }

        .input-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--accent-green);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: var(--transition);
        }

        .input-range::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 8px rgba(39, 174, 96, 0.4);
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--border-color);
            transition: .4s;
            border-radius: 34px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--accent-green);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(30px);
        }

        /* Badge */
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-success {
            background: var(--phase-3-color);
            color: #155724;
        }

        .badge-warning {
            background: var(--phase-2-color);
            color: #856404;
        }

        .badge-info {
            background: var(--phase-4-color);
            color: #0c5460;
        }

        /* Collapsible Section */
        .collapsible {
            background: white;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        .collapsible-header {
            padding: 20px;
            background: var(--bg-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .collapsible-header:hover {
            background: rgba(39, 174, 96, 0.1);
        }

        .collapsible-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .collapsible.active .collapsible-content {
            padding: 20px;
            max-height: 1000px;
        }

        .collapsible.active .collapsible-header {
            border-bottom: 2px solid var(--accent-green);
        }

        /* Scientific Visualization */
        .scientific-viz {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .viz-item {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        .viz-bar {
            height: 20px;
            background: var(--border-color);
            border-radius: 10px;
            margin: 15px 0;
            overflow: hidden;
            position: relative;
        }

        .viz-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-green), var(--accent-light));
            border-radius: 10px;
            transition: width 1s ease;
        }

        /* Print Styles */
        @media print {
            .header-controls,
            .btn-group,
            .tabs {
                display: none !important;
            }
            
            .tab-content {
                display: block !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            
            .main-container {
                grid-template-columns: 1fr !important;
            }
            
            .sidebar {
                position: static !important;
                page-break-inside: avoid;
            }
            
            .chart-box {
                page-break-inside: avoid;
                height: auto !important;
            }
            
            body {
                background: white !important;
                color: black !important;
            }
            
            .footer {
                page-break-before: always;
            }
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus Styles */
        *:focus {
            outline: 3px solid rgba(39, 174, 96, 0.5);
            outline-offset: 2px;
        }

        /* Selection Color */
        ::selection {
            background: rgba(39, 174, 96, 0.3);
            color: var(--text-dark);
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-light);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-green);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-light);
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
        <div>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„...</div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­</span>
    </div>

    <!-- Header -->
    <div class="header">
        <div class="header-controls">
            <button class="header-btn" onclick="saveConfiguration()">
                <i class="fas fa-save"></i> Ø­ÙØ¸
            </button>
            <button class="header-btn" onclick="loadConfiguration()">
                <i class="fas fa-folder-open"></i> ØªØ­Ù…ÙŠÙ„
            </button>
            <button class="header-btn" onclick="exportToPDF()">
                <i class="fas fa-file-pdf"></i> ØªØµØ¯ÙŠØ±
            </button>
            <button class="header-btn" onclick="showAdvancedSettings()">
                <i class="fas fa-cog"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©
            </button>
        </div>
        
        <h1><i class="fas fa-mushroom"></i> Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± Ø§Ù„Ø£Ø¨ÙŠØ¶ (Agaricus bisporus)</h1>
        <p class="header-subtitle">Ø§Ù„Ø¥ØµØ¯Ø§Ø± 8.0 - Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ ÙˆØ§Ù„Ø²Ø±Ø§Ø¹ÙŠ ÙˆØ§Ù„Ù…Ø§Ù„ÙŠ Ù…Ø¹ Ø§Ù„Ø¯Ù‚Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</p>
    </div>

    <!-- Tabs Navigation -->
    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('planning')">
            <i class="fas fa-calculator"></i> Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
        </button>
        <button class="tab-btn" onclick="switchTab('compost')">
            <i class="fas fa-recycle"></i> Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„
        </button>
        <button class="tab-btn" onclick="switchTab('peat')">
            <i class="fas fa-layer-group"></i> Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ ÙˆØ§Ù„ØªØºØ·ÙŠØ©
        </button>
        <button class="tab-btn" onclick="switchTab('comparison')">
            <i class="fas fa-balance-scale"></i> Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©
        </button>
        <button class="tab-btn" onclick="switchTab('charts')">
            <i class="fas fa-chart-pie"></i> Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª ÙˆØ§Ù„Ø±Ø³ÙˆÙ…
        </button>
        <button class="tab-btn" onclick="switchTab('expert')">
            <i class="fas fa-graduation-cap"></i> Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù„Ù…ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
        </button>
    </div>

    <!-- Tab 1: Planning -->
    <div id="planning-tab" class="tab-content active">
        <div class="main-container">
            <!-- Sidebar: Inputs Panel -->
            <aside class="sidebar">
                <!-- Phase Indicators -->
                <div class="phase-indicators">
                    <div class="phase-indicator active" onclick="setPhase('2')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Phase II</div>
                    </div>
                    <div class="phase-indicator" onclick="setPhase('3')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Phase III</div>
                    </div>
                    <div class="phase-indicator" onclick="setPhase('4')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Phase IV</div>
                    </div>
                    <div class="phase-connector"></div>
                </div>
                
                <div class="section-title">
                    <i class="fas fa-ruler-combined"></i>
                    <h3>ğŸ“ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© Ù„Ù„ØµØ§Ù„Ø©</h3>
                </div>
                
                <div class="input-group">
                    <label for="roomLength">
                        <span><i class="fas fa-arrows-alt-h"></i> Ø·ÙˆÙ„ Ø§Ù„ØµØ§Ù„Ø© (Ù…ØªØ±)</span>
                        <span class="badge badge-info">Ø§Ù„Ø£Ø¯Ù†Ù‰: 2Ù…ØŒ Ø§Ù„Ø£Ù‚ØµÙ‰: 50Ù…</span>
                    </label>
                    <input type="range" id="roomLengthRange" min="2" max="50" step="0.5" value="18" 
                           oninput="updateLengthFromRange()" class="input-range">
                    <input type="number" id="roomLength" value="18" min="2" max="50" step="0.1" 
                           oninput="updateRangeFromLength()">
                    <div class="value-display" id="roomLengthValue">18.0 Ù…</div>
                </div>
                
                <div class="input-group">
                    <label for="roomWidth">
                        <span><i class="fas fa-arrows-alt-v"></i> Ø¹Ø±Ø¶ Ø§Ù„ØµØ§Ù„Ø© (Ù…ØªØ±)</span>
                        <span class="badge badge-info">Ø§Ù„Ø£Ø¯Ù†Ù‰: 2Ù…ØŒ Ø§Ù„Ø£Ù‚ØµÙ‰: 20Ù…</span>
                    </label>
                    <input type="range" id="roomWidthRange" min="2" max="20" step="0.5" value="5.5" 
                           oninput="updateWidthFromRange()" class="input-range">
                    <input type="number" id="roomWidth" value="5.5" min="2" max="20" step="0.1" 
                           oninput="updateRangeFromWidth()">
                    <div class="value-display" id="roomWidthValue">5.5 Ù…</div>
                </div>
                
                <div class="input-group">
                    <label for="aisleWidth">
                        <span><i class="fas fa-walking"></i> Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù…Ø± Ø§Ù„Ø·ÙˆÙ„ÙŠ (Ù…ØªØ±)</span>
                        <span class="badge badge-success">Ø§Ù„Ù…Ø¹ÙŠØ§Ø±: 0.8Ù… Ù„Ù„Ø®Ø¯Ù…Ø©</span>
                    </label>
                    <input type="number" id="aisleWidth" value="0.8" min="0.5" max="2" step="0.1" oninput="validateInputs()">
                    <div class="progress-container">
                        <div class="progress-bar" id="aisleWidthBar" style="width: 40%"></div>
                    </div>
                </div>

                <div class="section-title">
                    <i class="fas fa-layer-group"></i>
                    <h3>ğŸ—„ï¸ ØªØµÙ…ÙŠÙ… Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙÙˆÙ Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø·Ø¨Ù‚Ø§Øª</h3>
                </div>
                
                <div class="input-group-advanced">
                    <label for="shelfLevels">
                        <span><i class="fas fa-sort-amount-up"></i> Ø¹Ø¯Ø¯ Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ø±ÙÙˆÙ</span>
                        <span class="badge badge-success">Ø§Ù„Ù…Ø¹ÙŠØ§Ø±: 5 Ø·Ø¨Ù‚Ø§Øª</span>
                    </label>
                    <div class="scientific-viz">
                        <div class="viz-item">
                            <div>ÙƒÙØ§Ø¡Ø© Ø§Ù„Ù…Ø³Ø§Ø­Ø©</div>
                            <div class="viz-bar">
                                <div class="viz-fill" id="spaceEfficiencyBar" style="width: 85%"></div>
                            </div>
                            <div>85%</div>
                        </div>
                        <div class="viz-item">
                            <div>Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ØµÙŠØ§Ù†Ø©</div>
                            <div class="viz-bar">
                                <div class="viz-fill" id="maintenanceEaseBar" style="width: 75%"></div>
                            </div>
                            <div>75%</div>
                        </div>
                    </div>
                    <input type="number" id="shelfLevels" value="5" min="1" max="10" oninput="validateInputs()">
                </div>
                
                <div class="input-group">
                    <label for="shelfWidth">
                        <span><i class="fas fa-arrows-alt-h"></i> Ø¹Ø±Ø¶ Ø§Ù„Ø±Ù Ø§Ù„ÙˆØ§Ø­Ø¯ (Ù…ØªØ±)</span>
                        <span class="badge badge-success">Ø§Ù„Ù…Ø¹ÙŠØ§Ø± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ: 1.2Ù…</span>
                    </label>
                    <input type="number" id="shelfWidth" value="1.2" min="0.5" max="2" step="0.1" oninput="validateInputs()">
                </div>

                <div class="section-title">
                    <i class="fas fa-seedling"></i>
                    <h3>ğŸŒ± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h3>
                </div>
                
                <div class="collapsible" id="advancedAgriculture">
                    <div class="collapsible-header" onclick="toggleCollapsible('advancedAgriculture')">
                        <span><i class="fas fa-cogs"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="collapsible-content">
                        <div class="input-group">
                            <label for="compostPhase">Ø·ÙˆØ± Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª (Phase)</label>
                            <select id="compostPhase" onchange="updatePhaseSettings()">
                                <option value="2">Phase II - Ù…Ø¹Ù‚Ù…/ÙŠØ­ØªØ§Ø¬ ØªÙ„Ù‚ÙŠØ­</option>
                                <option value="3" selected>Phase III - Ù…Ù„Ù‚Ø­ ÙˆØ¬Ø§Ù‡Ø²</option>
                                <option value="4">Phase IV - Ù…ØºØ·Ù‰ ÙˆØ¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ø«Ù…Ø§Ø±</option>
                            </select>
                            <div id="phaseBadge" class="phase-badge phase-3">
                                <i class="fas fa-info-circle"></i> Ø§Ù„Ø·ÙˆØ± Ø§Ù„Ø«Ø§Ù„Ø«: 6-7 Ø¯ÙˆØ±Ø§Øª/Ø³Ù†Ø©
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label for="compostDensity">
                                <span>ÙƒØ«Ø§ÙØ© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª (ÙƒØ¬Ù…/Ù…Â²)</span>
                                <span class="tooltip">?
                                    <span class="tooltip-text">Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù…Ø«Ù„Ù‰ Ø­Ø³Ø¨ Ù…Ø±ÙƒØ² Ø¨Ø­ÙˆØ« Ø­Ù„Ø¨: 95-100 ÙƒØ¬Ù…/Ù…Â² Ù„Ø¶Ù…Ø§Ù† ØªÙ‡ÙˆÙŠØ© Ø¬ÙŠØ¯Ø© ÙˆÙ†Ù…Ùˆ Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ù…Ø´ÙŠØ¬Ø©</span>
                                </span>
                            </label>
                            <input type="number" id="compostDensity" value="95" min="70" max="120" step="1" oninput="validateInputs()">
                            <div class="progress-container">
                                <div class="progress-bar" id="densityBar" style="width: 79%"></div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label for="yieldPerSqM">
                                <span>Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ (ÙƒØ¬Ù…/Ù…Â²)</span>
                                <span class="tooltip">?
                                    <span class="tooltip-text">Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø³ÙˆØ±ÙŠ: 30-45 ÙƒØ¬Ù…/Ù…Â² Ø­Ø³Ø¨ Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¨ÙŠØ¦ÙŠ ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª</span>
                                </span>
                            </label>
                            <input type="number" id="yieldPerSqM" value="30" min="10" max="60" step="1" oninput="validateInputs()">
                        </div>
                    </div>
                </div>

                <div class="section-title">
                    <i class="fas fa-chart-line"></i>
                    <h3>ğŸ’° Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h3>
                </div>
                
                <div class="input-group">
                    <label for="exchangeRate">Ø³Ø¹Ø± ØµØ±Ù Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± (Ù„ÙŠØ±Ø© Ø³ÙˆØ±ÙŠØ©)</label>
                    <input type="number" id="exchangeRate" value="15000" min="1000" max="100000" step="1000" oninput="validateInputs()">
                </div>
                
                <div class="input-group">
                    <label for="compostPrice">Ø³Ø¹Ø± Ø·Ù† Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª ($) Ø­Ø³Ø¨ Ø§Ù„Ø·ÙˆØ±</label>
                    <select id="compostPrice" onchange="updateCompostPrice()">
                        <option value="200">Phase II: $200 (Ù…Ø¹Ù‚Ù…)</option>
                        <option value="280" selected>Phase III: $280 (Ù…Ù„Ù‚Ø­ ÙˆØ¬Ø§Ù‡Ø²)</option>
                        <option value="350">Phase IV: $350 (Ù…ØºØ·Ù‰ ÙˆÙ…Ø³ØªØ¹Ù…Ø±)</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="mushroomPrice">Ø³Ø¹Ø± Ø¨ÙŠØ¹ Ø§Ù„ÙƒÙŠÙ„Ùˆ ($) Ø­Ø³Ø¨ Ø§Ù„Ø¬ÙˆØ¯Ø©</label>
                    <select id="mushroomPrice" onchange="validateInputs()">
                        <option value="2.0">Ø¬ÙˆØ¯Ø© Ù‚ÙŠØ§Ø³ÙŠØ©: $2.0</option>
                        <option value="2.5" selected>Ø¬ÙˆØ¯Ø© Ù…Ù…ØªØ§Ø²Ø©: $2.5</option>
                        <option value="3.0">Ø¹Ø¶ÙˆÙŠ: $3.0</option>
                        <option value="3.5">Ø¹Ø¶ÙˆÙŠ Ù…Ø¹ØªÙ…Ø¯: $3.5</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="operationalCosts">Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©/Ø¯ÙˆØ±Ø© ($)</label>
                    <input type="number" id="operationalCosts" value="400" min="0" max="5000" step="50" oninput="validateInputs()">
                </div>

                <button class="btn-primary" onclick="calculateAll()">
                    <i class="fas fa-calculator"></i> ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ø±Ø³Ù…
                </button>
                
                <div class="btn-group">
                    <button class="btn-secondary" onclick="resetToDefaults()">
                        <i class="fas fa-undo"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·
                    </button>
                    <button class="btn-secondary" onclick="saveConfiguration()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØªÙƒÙˆÙŠÙ†
                    </button>
                    <button class="btn-secondary" onclick="optimizeDesign()">
                        <i class="fas fa-magic"></i> ØªØ­Ø³ÙŠÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠ
                    </button>
                </div>

                <div class="data-card" style="margin-top: 30px;">
                    <h4><i class="fas fa-lightbulb"></i> ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h4>
                    <div id="recommendations">
                        <p>âœ… Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø¨Ø¯Ø§ÙŠØ©</p>
                        <p>âœ… ÙƒØ«Ø§ÙØ© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ù…Ø«Ø§Ù„ÙŠØ©</p>
                        <p>âš ï¸ ÙÙƒØ± ÙÙŠ Ø²ÙŠØ§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù…Ø± Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø®Ø¯Ù…Ø©</p>
                    </div>
                </div>
            </aside>

            <!-- Main Content: Results Panel -->
            <main class="results-panel">
                <!-- Results Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <label><i class="fas fa-vector-square"></i> Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ÙØ¹Ø§Ù„Ø© Ø§Ù„ÙƒÙ„ÙŠØ©</label>
                        <div class="value" id="totalArea">0</div>
                        <span class="unit">Ù…ØªØ± Ù…Ø±Ø¨Ø¹</span>
                        <div class="stat-trend trend-up" id="areaTrend">+0%</div>
                    </div>
                    
                    <div class="stat-card">
                        <label><i class="fas fa-weight-hanging"></i> Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨/Ø¯ÙˆØ±Ø©</label>
                        <div class="value" id="totalCompost">0</div>
                        <span class="unit">Ø·Ù†</span>
                    </div>
                    
                    <div class="stat-card">
                        <label><i class="fas fa-tint"></i> Ø§Ø­ØªÙŠØ§Ø¬ Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³/Ø¯ÙˆØ±Ø©</label>
                        <div class="value" id="totalPeat">0</div>
                        <span class="unit">Ù„ØªØ±</span>
                    </div>
                    
                    <div class="stat-card">
                        <label><i class="fas fa-chart-bar"></i> Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø³Ù†ÙˆÙŠ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ</label>
                        <div class="value" id="annualYield">0</div>
                        <span class="unit">Ø·Ù†</span>
                    </div>
                    
                    <div class="stat-card financial">
                        <label><i class="fas fa-dollar-sign"></i> Ø±Ø¨Ø­ Ø§Ù„Ø¯ÙˆØ±Ø© ($)</label>
                        <div class="value" id="profitCycle">0</div>
                        <span class="unit">Ø¯ÙˆÙ„Ø§Ø±</span>
                        <div class="stat-trend trend-up" id="profitTrend">+0%</div>
                    </div>
                    
                    <div class="stat-card financial">
                        <label><i class="fas fa-money-bill-wave"></i> Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø³Ù†ÙˆÙŠ (Ù„.Ø³)</label>
                        <div class="value" id="profitAnnualSYP">0</div>
                        <span class="unit">Ù„ÙŠØ±Ø© Ø³ÙˆØ±ÙŠØ©</span>
                    </div>
                </div>

                <!-- Canvas Drawing -->
                <div class="canvas-container">
                    <h3><i class="fas fa-drafting-compass"></i> Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ ÙˆØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø­Ù…Ø§Ù„</h3>
                    <canvas id="farmCanvas" width="1200" height="600"></canvas>
                    
                    <div class="canvas-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #27ae60;"></div>
                            <span>Ø§Ù„Ø±ÙÙˆÙ (Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø²Ø±ÙˆØ¹Ø©)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #ffffff; border: 2px solid #ddd;"></div>
                            <span>Ø§Ù„Ù…Ù…Ø±Ø§Øª (Ø­Ø±ÙƒØ© Ø§Ù„Ø®Ø¯Ù…Ø©)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #3498db;"></div>
                            <span>Ø§Ù„Ù…Ù…Ø± Ø§Ù„Ø¹Ø±Ø¶ÙŠ (Ù„Ù„Ø£Ø·ÙˆØ§Ù„ > 12Ù…)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #2c3e50;"></div>
                            <span>Ø¬Ø¯Ø±Ø§Ù† Ø§Ù„ØµØ§Ù„Ø©</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #e74c3c;"></div>
                            <span>Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªÙ‡ÙˆÙŠØ©</span>
                        </div>
                    </div>
                    
                    <div class="scientific-box">
                        <h4><i class="fas fa-lightbulb"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù‡Ù†Ø¯Ø³ÙŠØ© Ù…Ù‡Ù…Ø©</h4>
                        <p><strong>Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ø±ÙÙˆÙ</strong> ØªÙ…Ø«Ù„ ÙˆØ²Ù† Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª (Ø¨Ø§Ù„Ø£Ø·Ù†Ø§Ù†) Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ù„ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø±ÙÙˆÙ.</p>
                        <p><strong>Ø§Ù„ØªÙ‡ÙˆÙŠØ©:</strong> ÙŠØ¬Ø¨ ØªØ±Ùƒ Ù…Ø³Ø§ÙØ© 0.5Ù… Ù…Ù† ÙƒÙ„ Ø¬Ø¯Ø§Ø± Ù„ØªØ¯ÙˆÙŠØ± Ø§Ù„Ù‡ÙˆØ§Ø¡ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.</p>
                        <p><strong>Ø§Ù„Ø£Ø­Ù…Ø§Ù„:</strong> ÙƒÙ„ Ø±Ù ÙŠØ­Ù…Ù„ 0.8-1.2 Ø·Ù† Ø­Ø³Ø¨ Ø³Ù…Ø§ÙƒØ© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª.</p>
                    </div>
                </div>

                <!-- Guide Section -->
                <div class="guide-section">
                    <h2><i class="fas fa-book-open"></i> Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù„Ù…ÙŠ ÙˆØ§Ù„Ø¥Ø±Ø´Ø§Ø¯ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h2>
                    
                    <div class="phase-info-grid">
                        <div class="phase-card">
                            <h4><i class="fas fa-microscope"></i> Ø§Ù„Ø·ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ (Phase II)</h4>
                            <p><strong>Ø§Ù„ÙˆØµÙ:</strong> ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ù…Ø¹Ù‚Ù… ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¹Ù…Ù„ÙŠØ© ØªÙ„Ù‚ÙŠØ­ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©.</p>
                            <p><strong>Ø§Ù„Ù…Ø¯Ø©:</strong> 15-20 ÙŠÙˆÙ… ØªØ­Ø¶ÙŠÙ† ÙˆØªÙ„Ù‚ÙŠØ­.</p>
                            <p><strong>Ø§Ù„Ø¯ÙˆØ±Ø§Øª:</strong> 4-5 Ø¯ÙˆØ±Ø§Øª/Ø³Ù†Ø©.</p>
                            <p><strong>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</strong> ØªÙƒÙ„ÙØ© Ø£Ù‚Ù„ØŒ Ø³ÙŠØ·Ø±Ø© Ø£Ø¹Ù„Ù‰ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ„Ù‚ÙŠØ­.</p>
                        </div>
                        
                        <div class="phase-card" style="border-color: #27ae60;">
                            <h4><i class="fas fa-seedling"></i> Ø§Ù„Ø·ÙˆØ± Ø§Ù„Ø«Ø§Ù„Ø« (Phase III)</h4>
                            <p><strong>Ø§Ù„ÙˆØµÙ:</strong> ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ù…Ù„Ù‚Ø­ ÙˆØ¬Ø§Ù‡Ø² Ù„Ù„Ø²Ø±Ø§Ø¹Ø© Ù…Ø¨Ø§Ø´Ø±Ø©.</p>
                            <p><strong>Ø§Ù„Ù…Ø¯Ø©:</strong> Ø¬Ø§Ù‡Ø² Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„Ø²Ø±Ø§Ø¹Ø©.</p>
                            <p><strong>Ø§Ù„Ø¯ÙˆØ±Ø§Øª:</strong> 6-7 Ø¯ÙˆØ±Ø§Øª/Ø³Ù†Ø© (Ø§Ù„Ù…Ø¹ÙŠØ§Ø± Ø§Ù„Ø³ÙˆØ±ÙŠ).</p>
                            <p><strong>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</strong> Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø£Ø¹Ù„Ù‰ Ø¨Ù†Ø³Ø¨Ø© 15%ØŒ ØªÙˆÙÙŠØ± Ø§Ù„ÙˆÙ‚Øª.</p>
                        </div>
                        
                        <div class="phase-card">
                            <h4><i class="fas fa-spa"></i> Ø§Ù„Ø·ÙˆØ± Ø§Ù„Ø±Ø§Ø¨Ø¹ (Phase IV)</h4>
                            <p><strong>Ø§Ù„ÙˆØµÙ:</strong> ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ù…ØºØ·Ù‰ ÙˆØªØ±Ø¨ØªÙ‡ Ù…Ø³ØªØ¹Ù…Ø±Ø© Ø¨Ø§Ù„Ù…Ø´ÙŠØ¬Ø©.</p>
                            <p><strong>Ø§Ù„Ù…Ø¯Ø©:</strong> Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ø«Ù…Ø§Ø± Ù…Ø¨Ø§Ø´Ø±Ø©.</p>
                            <p><strong>Ø§Ù„Ø¯ÙˆØ±Ø§Øª:</strong> 8-10 Ø¯ÙˆØ±Ø§Øª/Ø³Ù†Ø© ÙÙŠ Ø§Ù„Ù…Ø²Ø§Ø±Ø¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©.</p>
                            <p><strong>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</strong> Ø£Ø³Ø±Ø¹ Ø¥Ø«Ù…Ø§Ø±ØŒ Ø£Ø¹Ù„Ù‰ Ø¥Ù†ØªØ§Ø¬ÙŠØ©ØŒ Ù…ØªØ§Ù†Ø© Ø¶Ø¯ Ø§Ù„ØªÙ„ÙˆØ«.</p>
                        </div>
                    </div>
                    
                    <h3>ğŸ§® Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</h3>
                    <div class="formula-box">
                        // 1. Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ ØµÙÙˆÙ Ø§Ù„Ø±ÙÙˆÙ (Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„ØªÙ‡ÙˆÙŠØ©)<br>
                        <code>ØµÙÙˆÙ = âŒŠ(Ø¹Ø±Ø¶_Ø§Ù„ØµØ§Ù„Ø© - 1) Ã· (Ø¹Ø±Ø¶_Ø§Ù„Ø±Ù + Ø¹Ø±Ø¶_Ø§Ù„Ù…Ù…Ø±)âŒ‹</code><br><br>
                        
                        // 2. Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ÙØ¹Ø§Ù„Ø© (Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„Ù…Ù…Ø± Ø§Ù„Ø¹Ø±Ø¶ÙŠ)<br>
                        <code>Ù…Ø³Ø§Ø­Ø©_Ø§Ù„Ø±Ù_Ø§Ù„ÙˆØ§Ø­Ø¯ = Ø·ÙˆÙ„_Ø§Ù„Ø±Ù_Ø§Ù„ØµØ§ÙÙŠ Ã— Ø¹Ø±Ø¶_Ø§Ù„Ø±Ù</code><br>
                        <code>Ù…Ø³Ø§Ø­Ø©_ÙƒÙ„_Ø§Ù„Ø·Ø¨Ù‚Ø§Øª = Ù…Ø³Ø§Ø­Ø©_Ø§Ù„Ø±Ù_Ø§Ù„ÙˆØ§Ø­Ø¯ Ã— Ø¹Ø¯Ø¯_Ø§Ù„Ø·Ø¨Ù‚Ø§Øª</code><br>
                        <code>Ø§Ù„Ù…Ø³Ø§Ø­Ø©_Ø§Ù„ÙƒÙ„ÙŠØ© = Ù…Ø³Ø§Ø­Ø©_ÙƒÙ„_Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ã— Ø¹Ø¯Ø¯_Ø§Ù„ØµÙÙˆÙ Ã— (1 + Ù…Ø¹Ø§Ù…Ù„_Ø§Ù„Ù…Ù…Ø±_Ø§Ù„Ø¹Ø±Ø¶ÙŠ)</code><br><br>
                        
                        // 3. Ø­Ø³Ø§Ø¨ ÙƒÙ…ÙŠØ© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª (Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù…Ø«Ù„Ù‰)<br>
                        <code>ÙƒÙ…ÙŠØ©_Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª(Ø·Ù†) = (Ø§Ù„Ù…Ø³Ø§Ø­Ø©_Ø§Ù„ÙƒÙ„ÙŠØ© Ã— Ø§Ù„ÙƒØ«Ø§ÙØ©) Ã· 1000</code><br>
                        <code>// Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù…Ø«Ù„Ù‰ Ø­Ø³Ø¨ Ø¨Ø­ÙˆØ« Ø­Ù„Ø¨: 95-100 ÙƒØ¬Ù…/Ù…Â²</code><br><br>
                        
                        // 4. Ø­Ø³Ø§Ø¨ ÙƒÙ…ÙŠØ© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ (Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø³Ù…Ø§ÙƒØ© Ø§Ù„Ø·Ø¨Ù‚Ø©)<br>
                        <code>ÙƒÙ…ÙŠØ©_Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³(Ù„ØªØ±) = Ø§Ù„Ù…Ø³Ø§Ø­Ø©_Ø§Ù„ÙƒÙ„ÙŠØ© Ã— Ø³Ù…Ø§ÙƒØ©_Ø§Ù„Ø·Ø¨Ù‚Ø©(Ø³Ù…) Ã— 10</code><br>
                        <code>// Ø§Ù„Ø³Ù…Ø§ÙƒØ© Ø§Ù„Ù…Ø«Ù„Ù‰: 4-5 Ø³Ù… (45 Ù„ØªØ±/Ù…Â²)</code><br><br>
                        
                        // 5. Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©<br>
                        <code>Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯_Ø§Ù„Ø¯ÙˆØ±Ø© = (Ø§Ù„Ø¥Ù†ØªØ§Ø¬_Ø§Ù„Ø¯ÙˆØ±Ø© Ã— Ø³Ø¹Ø±_Ø§Ù„ÙƒÙŠÙ„Ùˆ) Ã— Ù…Ø¹Ø§Ù…Ù„_Ø§Ù„Ø¬ÙˆØ¯Ø©</code><br>
                        <code>Ø§Ù„ØªÙƒÙ„ÙØ©_Ø§Ù„Ø¯ÙˆØ±Ø© = (ÙƒÙ…ÙŠØ©_Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ã— Ø³Ø¹Ø±_Ø§Ù„Ø·Ù†) + ØªÙƒÙ„ÙØ©_Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ + Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ_Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©</code><br>
                        <code>Ø§Ù„Ø±Ø¨Ø­_Ø§Ù„Ø¯ÙˆØ±Ø© = Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯_Ø§Ù„Ø¯ÙˆØ±Ø© - Ø§Ù„ØªÙƒÙ„ÙØ©_Ø§Ù„Ø¯ÙˆØ±Ø©</code><br>
                        <code>Ø§Ù„Ø¹Ø§Ø¦Ø¯_Ø¹Ù„Ù‰_Ø§Ù„Ø¥Ø³ØªØ«Ù…Ø§Ø± = (Ø§Ù„Ø±Ø¨Ø­_Ø§Ù„Ø³Ù†ÙˆÙŠ Ã· Ø¥Ø¬Ù…Ø§Ù„ÙŠ_Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ) Ã— 100%</code>
                    </div>
                    
                    <h3>ğŸ“Š Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø³ÙˆØ±ÙŠØ© (Ø­Ø³Ø¨ Ù…Ø±ÙƒØ² Ø¨Ø­ÙˆØ« Ø­Ù„Ø¨ 2025)</h3>
                    <div class="scientific-box">
                        <ul>
                            <li><strong>Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ù†ØªØ§Ø¬:</strong> 30 ÙƒØ¬Ù…/Ù…Â² (ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù€ 45 ÙƒØ¬Ù…/Ù…Â² Ù…Ø¹ Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ)</li>
                            <li><strong>ÙƒØ«Ø§ÙØ© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª:</strong> 95-100 ÙƒØ¬Ù…/Ù…Â² Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø§Ù„Ø¹Ø§Ù„ÙŠØ©</li>
                            <li><strong>Ø³Ù…Ø§ÙƒØ© ØªØºØ·ÙŠØ© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³:</strong> 4-5 Ø³Ù… (ØªØ¹Ø§Ø¯Ù„ 45 Ù„ØªØ±/Ù…Â²)</li>
                            <li><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠØ©:</strong> 5-7 Ø¯ÙˆØ±Ø§Øª Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„ØªØ­ÙƒÙ…</li>
                            <li><strong>Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù…Ø«Ù„Ù‰ Ù„Ù„Ø¥Ø«Ù…Ø§Ø±:</strong> 16-18Â°Ù… (Â±0.5Â°Ù…)</li>
                            <li><strong>Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø§Ù„Ù†Ø³Ø¨ÙŠØ© Ø§Ù„Ù…Ø«Ù„Ù‰:</strong> 85-90% (Â±3%)</li>
                            <li><strong>Ø§Ù„ØªÙ‡ÙˆÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</strong> 4-6 Ù…Ø±Ø§Øª ØªØ¬Ø¯ÙŠØ¯ Ù‡ÙˆØ§Ø¡/Ø³Ø§Ø¹Ø©</li>
                            <li><strong>ØªØ±ÙƒÙŠØ² COâ‚‚ Ø§Ù„Ù…Ø³Ù…ÙˆØ­:</strong> 800-1500 ppm</li>
                        </ul>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9); padding: 25px; border-radius: 12px; margin-top: 25px; border-right: 5px solid var(--accent-green);">
                        <h4 style="color: var(--accent-green); margin-bottom: 15px;"><i class="fas fa-lightbulb"></i> Ù†ØµØ§Ø¦Ø­ Ø®Ø¨Ø±Ø§Ø¡ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                            <div>
                                <h5><i class="fas fa-thermometer-half"></i> Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¨ÙŠØ¦ÙŠ</h5>
                                <p>1. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ù…Ù† Ø§Ù„Ø·ÙˆØ± Ø§Ù„Ø«Ø§Ù„Ø« Ø£Ùˆ Ø§Ù„Ø±Ø§Ø¨Ø¹ Ù„Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø¯ÙˆØ±Ø§Øª.</p>
                                <p>2. Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¯Ù‚ÙŠÙ‚ Ø¨Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© (16-18Â°Ù…) ÙˆØ§Ù„Ø±Ø·ÙˆØ¨Ø© (85-90%).</p>
                            </div>
                            <div>
                                <h5><i class="fas fa-wind"></i> Ø§Ù„ØªÙ‡ÙˆÙŠØ© ÙˆØ§Ù„Ù‡ÙˆØ§Ø¡</h5>
                                <p>3. Ø¶Ù…Ø§Ù† Ø§Ù„ØªÙ‡ÙˆÙŠØ© Ø§Ù„Ø¬ÙŠØ¯Ø© Ù„ØªÙ‚Ù„ÙŠÙ„ ØªØ±ÙƒÙŠØ² COâ‚‚ ØªØ­Øª 1500 ppm.</p>
                                <p>4. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø±Ø´Ø­Ø§Øª HEPA Ù„Ù…Ù†Ø¹ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ù„ÙˆØ«Ø§Øª.</p>
                            </div>
                            <div>
                                <h5><i class="fas fa-tint"></i> Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…ÙŠØ§Ù‡</h5>
                                <p>5. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙŠØ§Ù‡ Ø°Ø§Øª Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© Ø®Ø§Ù„ÙŠØ© Ù…Ù† Ø§Ù„Ù…Ù„ÙˆØ«Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø§Ø¯Ù† Ø§Ù„Ø«Ù‚ÙŠÙ„Ø©.</p>
                                <p>6. pH Ø§Ù„Ù…Ø§Ø¡ Ø¨ÙŠÙ† 6.5-7.5 Ù„Ø¶Ù…Ø§Ù† Ø§Ù…ØªØµØ§Øµ Ø§Ù„Ø¹Ù†Ø§ØµØ±.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Tab 2: Compost System -->
    <div id="compost-tab" class="tab-content">
        <div class="main-container">
            <aside class="sidebar">
                <div class="section-title">
                    <i class="fas fa-recycle"></i>
                    <h3>ğŸ”„ Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</h3>
                </div>
                
                <div class="phase-indicators">
                    <div class="phase-indicator active" onclick="setCompostType('wheat')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Ù‚Ø´ Ù‚Ù…Ø­</div>
                    </div>
                    <div class="phase-indicator" onclick="setCompostType('rice')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Ù‚Ø´ Ø£Ø±Ø²</div>
                    </div>
                    <div class="phase-indicator" onclick="setCompostType('mixed')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Ù…Ø®ØªÙ„Ø·</div>
                    </div>
                    <div class="phase-connector"></div>
                </div>
                
                <div class="input-group-advanced">
                    <label for="compostType">
                        <span><i class="fas fa-haykal"></i> Ù†ÙˆØ¹ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠØ©</span>
                        <span class="tooltip">?
                            <span class="tooltip-text">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© ÙˆØ¨Ù†ÙŠØ© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</span>
                        </span>
                    </label>
                    <select id="compostType" onchange="updateCompostCalculations()">
                        <option value="wheat" selected>Ù‚Ø´ Ù‚Ù…Ø­ + Ø±ÙˆØ« Ø§Ù„Ø­ØµØ§Ù† (70:30)</option>
                        <option value="rice">Ù‚Ø´ Ø£Ø±Ø² + Ø±ÙˆØ« Ø§Ù„Ø¯ÙˆØ§Ø¬Ù† (65:35)</option>
                        <option value="mixed">Ù…Ø²ÙŠØ¬ Ù‚Ø´ + Ø±ÙˆØ« + Ø¥Ø¶Ø§ÙØ§Øª</option>
                        <option value="industrial">ÙƒÙˆÙ…Ø¨ÙˆØ³Øª ØµÙ†Ø§Ø¹ÙŠ Ø¬Ø§Ù‡Ø²</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="compostVolume">
                        <span><i class="fas fa-weight"></i> Ø­Ø¬Ù… Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ (Ø·Ù†)</span>
                        <span class="value-display" id="compostVolumeValue">0 Ø·Ù†</span>
                    </label>
                    <input type="range" id="compostVolumeRange" min="1" max="100" step="0.5" value="10" 
                           oninput="updateCompostVolumeFromRange()" class="input-range">
                    <input type="number" id="compostVolume" value="10" min="1" max="100" step="0.1" 
                           oninput="updateRangeFromCompostVolume()">
                </div>
                
                <div class="input-group">
                    <label for="compostMoisture">
                        <span><i class="fas fa-tint"></i> Ø±Ø·ÙˆØ¨Ø© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª (%)</span>
                        <span class="badge badge-success">Ø§Ù„Ù…Ø«Ù„Ù‰: 68-72%</span>
                    </label>
                    <input type="number" id="compostMoisture" value="70" min="60" max="80" step="0.5" 
                           oninput="updateCompostCalculations()">
                    <div class="progress-container">
                        <div class="progress-bar" id="moistureBar" style="width: 70%"></div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="compostpH">
                        <span><i class="fas fa-vial"></i> Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ù…ÙˆØ¶Ø© (pH)</span>
                        <span class="badge badge-success">Ø§Ù„Ù…Ø«Ù„Ù‰: 7.2-7.8</span>
                    </label>
                    <input type="number" id="compostpH" value="7.5" min="6.5" max="8.5" step="0.1" 
                           oninput="updateCompostCalculations()">
                </div>
                
                <div class="input-group">
                    <label for="compostNitrogen">
                        <span><i class="fas fa-atom"></i> Ù†Ø³Ø¨Ø© Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ† Ø§Ù„ÙƒÙ„ÙŠ (%)</span>
                        <span class="badge badge-success">Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: 1.8-2.2%</span>
                    </label>
                    <input type="number" id="compostNitrogen" value="2.0" min="1.5" max="2.5" step="0.1" 
                           oninput="updateCompostCalculations()">
                </div>
                
                <div class="collapsible" id="compostAdditives">
                    <div class="collapsible-header" onclick="toggleCollapsible('compostAdditives')">
                        <span><i class="fas fa-flask"></i> Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª ÙˆØ§Ù„Ù…Ø­Ø³Ù†Ø§Øª</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="collapsible-content">
                        <div class="input-group">
                            <label for="gypsumAddition">
                                <span>Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¨Ø³ (ÙƒØ¬Ù…/Ø·Ù†)</span>
                                <span class="tooltip">?
                                    <span class="tooltip-text">Ø§Ù„Ø¬Ø¨Ø³ ÙŠØ­Ø³Ù† Ø¨Ù†ÙŠØ© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª ÙˆÙŠØ¶Ø¨Ø· Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ</span>
                                </span>
                            </label>
                            <input type="number" id="gypsumAddition" value="25" min="0" max="50" step="1" 
                                   oninput="updateCompostCalculations()">
                        </div>
                        
                        <div class="input-group">
                            <label for="ureaAddition">
                                <span>Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙŠÙˆØ±ÙŠØ§ (ÙƒØ¬Ù…/Ø·Ù†)</span>
                                <span class="tooltip">?
                                    <span class="tooltip-text">ØªØ³ØªØ®Ø¯Ù… Ù„Ø¶Ø¨Ø· Ù†Ø³Ø¨Ø© C:N ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ®Ù…ÙŠØ±</span>
                                </span>
                            </label>
                            <input type="number" id="ureaAddition" value="5" min="0" max="15" step="0.5" 
                                   oninput="updateCompostCalculations()">
                        </div>
                        
                        <div class="input-group">
                            <label for="additivesType">
                                <span>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­Ø³Ù†Ø§Øª</span>
                            </label>
                            <select id="additivesType" onchange="updateCompostCalculations()">
                                <option value="none">Ø¨Ø¯ÙˆÙ† Ø¥Ø¶Ø§ÙØ§Øª</option>
                                <option value="mineral">Ù…Ø­Ø³Ù†Ø§Øª Ù…Ø¹Ø¯Ù†ÙŠØ©</option>
                                <option value="organic" selected>Ù…Ø­Ø³Ù†Ø§Øª Ø¹Ø¶ÙˆÙŠØ©</option>
                                <option value="microbial">Ù…Ø³ØªØ­Ø¶Ø±Ø§Øª Ù…ÙŠÙƒØ±ÙˆØ¨ÙŠØ©</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="input-group-advanced">
                    <label for="compostingMethod">
                        <span><i class="fas fa-industry"></i> Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ®Ù…ÙŠØ±</span>
                    </label>
                    <select id="compostingMethod" onchange="updateCompostCalculations()">
                        <option value="tunnel">Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù†ÙØ§Ù‚ (Tunnel)</option>
                        <option value="windrow" selected>Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙƒÙˆØ§Ù… (Windrow)</option>
                        <option value="in-vessel">Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª Ø§Ù„Ù…ØºÙ„Ù‚Ø©</option>
                        <option value="anaerobic">Ø§Ù„ØªØ®Ù…ÙŠØ± Ø§Ù„Ù„Ø§Ù‡ÙˆØ§Ø¦ÙŠ</option>
                    </select>
                </div>
                
                <div class="data-card">
                    <h4><i class="fas fa-calculator"></i> Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠØ©</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                        <div>
                            <div style="font-size: 0.9rem; color: var(--text-light);">ØªÙƒÙ„ÙØ© Ø§Ù„Ù…ÙˆØ§Ø¯</div>
                            <div class="data-value" id="materialCost">$0</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9rem; color: var(--text-light);">ØªÙƒÙ„ÙØ© Ø§Ù„ØªØ´ØºÙŠÙ„</div>
                            <div class="data-value" id="operationCost">$0</div>
                        </div>
                    </div>
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--border-color);">
                        <div style="font-size: 0.9rem; color: var(--text-light);">Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©/Ø·Ù†</div>
                        <div class="data-value" id="totalCostPerTon">$0</div>
                    </div>
                </div>
                
                <button class="btn-primary" onclick="calculateCompostSystem()">
                    <i class="fas fa-calculator"></i> Ø­Ø³Ø§Ø¨ Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª
                </button>
            </aside>
            
            <main class="results-panel">
                <div class="stats-grid">
                    <div class="stat-card environmental">
                        <label><i class="fas fa-weight"></i> Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</label>
                        <div class="value" id="rawMaterials">0</div>
                        <span class="unit">Ø·Ù†</span>
                    </div>
                    
                    <div class="stat-card">
                        <label><i class="fas fa-clock"></i> Ù…Ø¯Ø© Ø§Ù„ØªØ®Ù…ÙŠØ±</label>
                        <div class="value" id="compostingTime">0</div>
                        <span class="unit">ÙŠÙˆÙ…</span>
                    </div>
                    
                    <div class="stat-card financial">
                        <label><i class="fas fa-dollar-sign"></i> Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©</label>
                        <div class="value" id="totalCompostCost">0</div>
                        <span class="unit">Ø¯ÙˆÙ„Ø§Ø±</span>
                    </div>
                    
                    <div class="stat-card">
                        <label><i class="fas fa-temperature-high"></i> Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©</label>
                        <div class="value" id="targetTemps">0</div>
                        <span class="unit">Â°Ù…</span>
                    </div>
                    
                    <div class="stat-card">
                        <label><i class="fas fa-chart-line"></i> Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª</label>
                        <div class="value" id="compostQuality">0</div>
                        <span class="unit">%</span>
                    </div>
                    
                    <div class="stat-card financial">
                        <label><i class="fas fa-percentage"></i> ØªÙˆÙÙŠØ± Ø§Ù„ØªÙƒÙ„ÙØ©</label>
                        <div class="value" id="costSavings">0</div>
                        <span class="unit">%</span>
                    </div>
                </div>
                
                <div class="chart-box">
                    <h3><i class="fas fa-chart-line"></i> Ù…Ù†Ø­Ù†Ù‰ Ø§Ù„ØªØ®Ù…ÙŠØ± ÙˆØ¯Ø±Ø¬Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±Ø©</h3>
                    <canvas id="compostingChart"></canvas>
                </div>
                
                <div class="guide-section">
                    <h2><i class="fas fa-graduation-cap"></i> Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù„Ù…ÙŠ Ù„ØªØ®Ù…ÙŠØ± Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª</h2>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 25px;">
                        <div class="scientific-box">
                            <h4><i class="fas fa-thermometer-three-quarters"></i> Ù…Ø±Ø§Ø­Ù„ Ø§Ù„ØªØ®Ù…ÙŠØ± Ø§Ù„Ø­Ø±Ø§Ø±ÙŠ</h4>
                            <ul>
                                <li><strong>Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1:</strong> ØªØ³Ø®ÙŠÙ† (0-3 Ø£ÙŠØ§Ù…) 25-45Â°Ù…</li>
                                <li><strong>Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2:</strong> Ø§Ù„ØªØ®Ù…ÙŠØ± Ø§Ù„Ø­Ø±Ø§Ø±ÙŠ (4-10 Ø£ÙŠØ§Ù…) 45-65Â°Ù…</li>
                                <li><strong>Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3:</strong> Ø§Ù„ØªØ¨Ø±ÙŠØ¯ (11-14 ÙŠÙˆÙ…) 65-25Â°Ù…</li>
                                <li><strong>Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4:</strong> Ø§Ù„Ù†Ø¶Ø¬ (15-21 ÙŠÙˆÙ…) 25-30Â°Ù…</li>
                            </ul>
                        </div>
                        
                        <div class="scientific-box">
                            <h4><i class="fas fa-vial"></i> Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h4>
                            <ul>
                                <li><strong>Ø§Ù„Ø±Ø·ÙˆØ¨Ø©:</strong> 68-72% (ÙˆØ²Ù†/ÙˆØ²Ù†)</li>
                                <li><strong>pH:</strong> 7.2-7.8 Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¨Ø±ÙŠØ¯</li>
                                <li><strong>Ø§Ù„Ù†ØªØ±ÙˆØ¬ÙŠÙ†:</strong> 1.8-2.2% (ÙˆØ²Ù†/ÙˆØ²Ù† Ø¬Ø§Ù)</li>
                                <li><strong>Ù†Ø³Ø¨Ø© C:N:</strong> 15:1 Ø¥Ù„Ù‰ 18:1</li>
                                <li><strong>Ø§Ù„Ù„ÙˆÙ†:</strong> Ø¨Ù†ÙŠ ØºØ§Ù…Ù‚ Ø¥Ù„Ù‰ Ø£Ø³ÙˆØ¯</li>
                                <li><strong>Ø§Ù„Ø±Ø§Ø¦Ø­Ø©:</strong> Ø±Ø§Ø¦Ø­Ø© ØªØ±Ø§Ø¨ÙŠØ© Ù†Ø¸ÙŠÙØ©</li>
                            </ul>
                        </div>
                    </div>
                    
                    <h3>ğŸ“Š Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø­Ø³Ø§Ø¨ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª</h3>
                    <div class="formula-box">
                        // 1. Ø­Ø³Ø§Ø¨ Ù†Ø³Ø¨Ø© Ø§Ù„Ø®Ù„Ø· (Ù‚Ø´ : Ø±ÙˆØ«)<br>
                        <code>Ù†Ø³Ø¨Ø©_Ø§Ù„Ø®Ù„Ø· = 70% Ù‚Ø´ : 30% Ø±ÙˆØ« (Ù„Ù„Ù‚Ù…Ø­ ÙˆØ§Ù„Ø­ØµØ§Ù†)</code><br><br>
                        
                        // 2. Ø­Ø³Ø§Ø¨ ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠØ©<br>
                        <code>ÙƒÙ…ÙŠØ©_Ø§Ù„Ù‚Ø´ = Ø­Ø¬Ù…_Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ã— Ù†Ø³Ø¨Ø©_Ø§Ù„Ù‚Ø´ Ã— ÙƒØ«Ø§ÙØ©_Ø§Ù„Ù‚Ø´</code><br>
                        <code>ÙƒÙ…ÙŠØ©_Ø§Ù„Ø±ÙˆØ« = Ø­Ø¬Ù…_Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ã— Ù†Ø³Ø¨Ø©_Ø§Ù„Ø±ÙˆØ« Ã— ÙƒØ«Ø§ÙØ©_Ø§Ù„Ø±ÙˆØ«</code><br><br>
                        
                        // 3. Ø­Ø³Ø§Ø¨ Ù†Ø³Ø¨Ø© Ø§Ù„ÙƒØ±Ø¨ÙˆÙ† Ø¥Ù„Ù‰ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ† (C:N)<br>
                        <code>Ù†Ø³Ø¨Ø©_C_N = (ÙƒØ±Ø¨ÙˆÙ†_Ø§Ù„Ù‚Ø´ + ÙƒØ±Ø¨ÙˆÙ†_Ø§Ù„Ø±ÙˆØ«) Ã· (Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†_Ø§Ù„Ù‚Ø´ + Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†_Ø§Ù„Ø±ÙˆØ«)</code><br>
                        <code>// Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©: 25-30:1 ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©ØŒ 15-18:1 ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©</code><br><br>
                        
                        // 4. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬ Ø§Ù„Ù…Ø§Ø¦ÙŠ<br>
                        <code>Ø§Ù„Ù…Ø§Ø¡_Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ = (Ø­Ø¬Ù…_Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ã— Ø§Ù„Ø±Ø·ÙˆØ¨Ø©_Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©) - Ø±Ø·ÙˆØ¨Ø©_Ø§Ù„Ù…ÙˆØ§Ø¯</code><br><br>
                        
                        // 5. Ø­Ø³Ø§Ø¨ ÙˆÙ‚Øª Ø§Ù„ØªØ®Ù…ÙŠØ±<br>
                        <code>ÙˆÙ‚Øª_Ø§Ù„ØªØ®Ù…ÙŠØ± = 14 + (3 Ã— Ù…Ø¹Ø§Ù…Ù„_Ø§Ù„Ø·Ù‚Ø³) + (2 Ã— Ù…Ø¹Ø§Ù…Ù„_Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©)</code><br>
                        <code>// Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ø·Ù‚Ø³: 1 Ù„Ù„Ø¨Ø§Ø±Ø¯ØŒ 0 Ù„Ù„Ù…Ø¹ØªØ¯Ù„ØŒ -1 Ù„Ù„Ø­Ø§Ø±</code>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); padding: 25px; border-radius: 12px; margin-top: 25px; border-right: 5px solid var(--warning);">
                        <h4 style="color: #856404; margin-bottom: 15px;"><i class="fas fa-exclamation-triangle"></i> ØªØ­Ø°ÙŠØ±Ø§Øª ÙˆÙ…Ø´Ø§ÙƒÙ„ Ø´Ø§Ø¦Ø¹Ø©</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                            <div>
                                <h5>âŒ Ø±Ø§Ø¦Ø­Ø© Ø§Ù„Ø£Ù…ÙˆÙ†ÙŠØ§</h5>
                                <p>ØªØ¯Ù„ Ø¹Ù„Ù‰ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†. Ø§Ù„Ø­Ù„: Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ§Ø¯ ÙƒØ±Ø¨ÙˆÙ†ÙŠØ©.</p>
                            </div>
                            <div>
                                <h5>âŒ Ø¹Ø¯Ù… Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø­Ø±Ø§Ø±Ø©</h5>
                                <p>ØªØ¯Ù„ Ø¹Ù„Ù‰ Ù‚Ù„Ø© Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ† Ø£Ùˆ Ø§Ù„Ø±Ø·ÙˆØ¨Ø©. Ø§Ù„Ø­Ù„: Ø¥Ø¶Ø§ÙØ© Ø±ÙˆØ« Ø£Ùˆ Ù…Ø§Ø¡.</p>
                            </div>
                            <div>
                                <h5>âŒ Ø±Ø§Ø¦Ø­Ø© ÙƒØ±ÙŠÙ‡Ø©</h5>
                                <p>ØªØ¯Ù„ Ø¹Ù„Ù‰ Ù†Ù‚Øµ Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†. Ø§Ù„Ø­Ù„: ØªÙ‚Ù„ÙŠØ¨ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª.</p>
                            </div>
                            <div>
                                <h5>âŒ Ù†Ù…Ùˆ Ø§Ù„ÙØ·Ø±ÙŠØ§Øª Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡</h5>
                                <p>ØªØ¯Ù„ Ø¹Ù„Ù‰ Ø¬ÙØ§Ù Ø§Ù„Ø³Ø·Ø­. Ø§Ù„Ø­Ù„: Ø±Ø´ Ø§Ù„Ù…Ø§Ø¡ ÙˆØªÙ‚Ù„ÙŠØ¨ Ø§Ù„Ø³Ø·Ø­.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Tab 3: Peat Calculator -->
    <div id="peat-tab" class="tab-content">
        <div class="main-container">
            <aside class="sidebar">
                <div class="section-title">
                    <i class="fas fa-calculator"></i>
                    <h3>ğŸ§® Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ ÙˆØ§Ù„ØªØºØ·ÙŠØ© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</h3>
                </div>
                
                <div class="converter-box">
                    <h4><i class="fas fa-exchange-alt"></i> Ù…Ø­ÙˆÙ„ ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³</h4>
                    
                    <div class="converter-inputs">
                        <div class="input-group">
                            <label for="convertVolume"><i class="fas fa-weight"></i> Ø§Ù„Ø­Ø¬Ù… (Ù„ØªØ±)</label>
                            <input type="number" id="convertVolume" value="1000" min="0" step="100" oninput="convertPeatUnits()">
                        </div>
                        
                        <div class="input-group">
                            <label for="convertWeight"><i class="fas fa-balance-scale"></i> Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)</label>
                            <input type="number" id="convertWeight" value="120" min="0" step="10" oninput="convertPeatUnits('weight')">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="peatDensitySelect"><i class="fas fa-tachometer-alt"></i> ÙƒØ«Ø§ÙØ© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ (ÙƒØ¬Ù…/Ù„ØªØ±)</label>
                        <select id="peatDensitySelect" onchange="convertPeatUnits()">
                            <option value="0.10">Ø®ÙÙŠÙ: 0.10 (Ø¨ÙŠØªÙ…ÙˆØ³ Ø¬Ø§Ù)</option>
                            <option value="0.12" selected>Ù…ØªÙˆØ³Ø·: 0.12 (Ø¨ÙŠØªÙ…ÙˆØ³ Ø±Ø·Ø¨ 75%)</option>
                            <option value="0.15">Ø«Ù‚ÙŠÙ„: 0.15 (Ø¨ÙŠØªÙ…ÙˆØ³ Ù…Ø´Ø¨Ø¹)</option>
                            <option value="0.11">Ø®Ù„Ø·Ø© Ø¨ÙŠØ±Ù„Ø§ÙŠØª: 0.11</option>
                            <option value="0.13">Ø®Ù„Ø·Ø© Ø±Ù…Ù„: 0.13</option>
                        </select>
                    </div>
                    
                    <div class="converter-result" id="conversionResult">
                        <i class="fas fa-equals"></i> 1000 Ù„ØªØ± = 120 ÙƒØ¬Ù… (ÙƒØ«Ø§ÙØ© 0.12 ÙƒØ¬Ù…/Ù„ØªØ±)
                    </div>
                </div>
                
                <div class="section-title">
                    <i class="fas fa-layer-group"></i>
                    <h3>ğŸŸ« Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ ÙˆØ·Ø¨Ù‚Ø© Ø§Ù„ØªØºØ·ÙŠØ©</h3>
                </div>
                
                <div class="phase-indicators">
                    <div class="phase-indicator active" onclick="setPeatType('sphagnum')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Ø³ÙØ§Ø¬Ù†ÙˆÙ…</div>
                    </div>
                    <div class="phase-indicator" onclick="setPeatType('limed')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Ù…Ø¹Ø§Ù„Ø¬</div>
                    </div>
                    <div class="phase-indicator" onclick="setPeatType('mixed')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Ù…Ø®ØªÙ„Ø·</div>
                    </div>
                    <div class="phase-connector"></div>
                </div>
                
                <div class="input-group">
                    <label for="peatType"><i class="fas fa-seedling"></i> Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³</label>
                    <select id="peatType" onchange="updatePeatCalculations()">
                        <option value="1">Ø¨ÙŠØªÙ…ÙˆØ³ Ø³ÙØ§Ø¬Ù†ÙˆÙ… Ø­Ø§Ù…Ø¶ÙŠ (pH 3.5-4.5)</option>
                        <option value="2" selected>Ø¨ÙŠØªÙ…ÙˆØ³ Ù…Ø¹Ø§Ù„Ø¬ Ø¨Ø§Ù„ÙƒÙ„Ø³ (pH 6.5-7.5)</option>
                        <option value="3">Ø®Ù„Ø·Ø© Ù…Ø®ØªÙ„Ø·Ø© (Ø¨ÙŠØªÙ…ÙˆØ³ + Ø¨ÙŠØ±Ù„Ø§ÙŠØª)</option>
                        <option value="4">Ø¨ÙŠØªÙ…ÙˆØ³ Ù…Ø¹Ø§Ù„Ø¬ Ù…Ø³Ø¨Ù‚Ø§Ù‹ (Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…)</option>
                        <option value="5">Ø®Ù„Ø·Ø© Ø³ÙˆØ±ÙŠØ© (Ø¨ÙŠØªÙ…ÙˆØ³ + Ø±Ù…Ù„ + Ø¬Ø¨Ø³)</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="peatThickness">
                        <span><i class="fas fa-ruler-vertical"></i> Ø³Ù…Ùƒ Ø·Ø¨Ù‚Ø© Ø§Ù„ØªØºØ·ÙŠØ© (Ø³Ù…)</span>
                        <span class="badge badge-success">Ø§Ù„Ù…Ø¹ÙŠØ§Ø±: 4-5 Ø³Ù…</span>
                    </label>
                    <input type="range" id="peatThicknessRange" min="3" max="7" step="0.1" value="4.5" 
                           oninput="updateThicknessFromRange()" class="input-range">
                    <input type="number" id="peatThickness" value="4.5" min="3" max="7" step="0.1" 
                           oninput="updateRangeFromThickness()">
                    <div class="value-display" id="thicknessValue">4.5 Ø³Ù…</div>
                </div>
                
                <div class="input-group">
                    <label for="addPerlite">
                        <span><i class="fas fa-snowflake"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª (%)</span>
                        <span class="tooltip">?
                            <span class="tooltip-text">Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª ÙŠØ­Ø³Ù† Ø§Ù„ØªÙ‡ÙˆÙŠØ© ÙˆÙŠÙ‚Ù„Ù„ Ø§Ù„Ø¥ØµØ§Ø¨Ø© Ø¨Ø§Ù„Ø£Ù…Ø±Ø§Ø¶ Ø¨Ù†Ø³Ø¨Ø© 30%</span>
                        </span>
                    </label>
                    <input type="number" id="addPerlite" value="0" min="0" max="30" step="5" oninput="validateInputs()">
                    <div class="progress-container">
                        <div class="progress-bar" id="perliteBar" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="peatPrice">
                        <span><i class="fas fa-dollar-sign"></i> Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ ($/Ù„ØªØ±)</span>
                        <span class="badge badge-info">Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø³ÙˆØ±ÙŠ: 0.02-0.05 $/Ù„ØªØ±</span>
                    </label>
                    <input type="number" id="peatPrice" value="0.03" min="0.01" max="0.1" step="0.005" oninput="validateInputs()">
                </div>
                
                <div class="collapsible" id="peatTreatment">
                    <div class="collapsible-header" onclick="toggleCollapsible('peatTreatment')">
                        <span><i class="fas fa-shield-alt"></i> Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="collapsible-content">
                        <div class="input-group">
                            <label for="treatmentMethod">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</label>
                            <select id="treatmentMethod" onchange="updateTreatmentCost()">
                                <option value="none">Ø¨Ø¯ÙˆÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© (pH < 5)</option>
                                <option value="pasteurization" selected>Ø¨Ø³ØªØ±Ø© (70Â°Ù… Ù„Ù…Ø¯Ø© Ø³Ø§Ø¹ØªÙŠÙ†)</option>
                                <option value="sterilization">ØªØ¹Ù‚ÙŠÙ… ÙƒØ§Ù…Ù„ (Ø¨Ø®Ø§Ø± 121Â°Ù…)</option>
                                <option value="chemical">Ù…Ø¹Ø§Ù„Ø¬Ø© ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ© (ÙÙˆØ±Ù…Ø§Ù„ÙŠÙ†)</option>
                                <option value="biological">Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ© (Ù…ÙŠÙƒØ±ÙˆØ¨Ø§Øª Ù†Ø§ÙØ¹Ø©)</option>
                            </select>
                            <div id="treatmentCostBadge" class="phase-badge phase-2">
                                <i class="fas fa-info-circle"></i> ØªÙƒÙ„ÙØ© Ø¨Ø³ØªØ±Ø©: 0.002 $/Ù„ØªØ±
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label for="targetMoisture">
                                <span>Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© (%)</span>
                                <span class="badge badge-success">Ø§Ù„Ù…Ø«Ù„Ù‰: 72-76%</span>
                            </label>
                            <input type="number" id="targetMoisture" value="75" min="65" max="80" step="1" oninput="validateInputs()">
                        </div>
                        
                        <div class="input-group">
                            <label for="peatpH">
                                <span>Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ù…ÙˆØ¶Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (pH)</span>
                            </label>
                            <input type="number" id="peatpH" value="7.0" min="5.5" max="8.0" step="0.1" oninput="validateInputs()">
                        </div>
                    </div>
                </div>
                
                <div class="data-card">
                    <h4><i class="fas fa-chart-pie"></i> ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø®Ù„Ø·Ø©</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                        <div>
                            <div style="font-size: 0.9rem; color: var(--text-light);">Ø¨ÙŠØªÙ…ÙˆØ³</div>
                            <div class="data-value" id="peatPercentage">80%</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9rem; color: var(--text-light);">Ø¨ÙŠØ±Ù„Ø§ÙŠØª</div>
                            <div class="data-value" id="perlitePercentage">0%</div>
                        </div>
                    </div>
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--border-color);">
                        <div style="font-size: 0.9rem; color: var(--text-light);">Ø¥Ø¶Ø§ÙØ§Øª Ø£Ø®Ø±Ù‰</div>
                        <div class="data-value" id="otherAdditives">20%</div>
                    </div>
                </div>
                
                <button class="btn-primary" onclick="calculatePeatRequirements()">
                    <i class="fas fa-calculator"></i> Ø­Ø³Ø§Ø¨ Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³
                </button>
            </aside>
            
            <main class="results-panel">
                <div class="stats-grid">
                    <div class="stat-card environmental">
                        <label><i class="fas fa-seedling"></i> Ø­Ø¬Ù… Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</label>
                        <div class="value" id="peatVolumeResult">0</div>
                        <span class="unit">Ù„ØªØ±</span>
                    </div>
                    
                    <div class="stat-card">
                        <label><i class="fas fa-weight"></i> ÙˆØ²Ù† Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ Ø§Ù„Ø±Ø·Ø¨</label>
                        <div class="value" id="peatWeightResult">0</div>
                        <span class="unit">Ø·Ù†</span>
                    </div>
                    
                    <div class="stat-card financial">
                        <label><i class="fas fa-dollar-sign"></i> ØªÙƒÙ„ÙØ© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³/Ø¯ÙˆØ±Ø©</label>
                        <div class="value" id="peatCostResult">0</div>
                        <span class="unit">Ø¯ÙˆÙ„Ø§Ø±</span>
                    </div>
                    
                    <div class="stat-card financial">
                        <label><i class="fas fa-money-bill"></i> ØªÙƒÙ„ÙØ© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</label>
                        <div class="value" id="treatmentCostResult">0</div>
                        <span class="unit">Ø¯ÙˆÙ„Ø§Ø±</span>
                    </div>
                    
                    <div class="stat-card">
                        <label><i class="fas fa-percentage"></i> Ù†Ø³Ø¨Ø© Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª</label>
                        <div class="value" id="perlitePercentageResult">0</div>
                        <span class="unit">%</span>
                    </div>
                    
                    <div class="stat-card financial">
                        <label><i class="fas fa-percentage"></i> Ù†Ø³Ø¨Ø© ØªÙƒÙ„ÙØ© Ø§Ù„ØªØºØ·ÙŠØ©</label>
                        <div class="value" id="peatCostPercentageResult">0</div>
                        <span class="unit">% Ù…Ù† Ø§Ù„ØªÙƒÙ„ÙØ©</span>
                    </div>
                </div>
                
                <div class="chart-box">
                    <h3><i class="fas fa-chart-pie"></i> ØªÙˆØ²ÙŠØ¹ ØªÙƒÙ„ÙØ© Ø·Ø¨Ù‚Ø© Ø§Ù„ØªØºØ·ÙŠØ©</h3>
                    <canvas id="peatCostChart"></canvas>
                </div>
                
                <div class="guide-section">
                    <h2><i class="fas fa-flask"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø®Ù„Ø·Ø§Øª Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</h2>
                    
                    <div id="peatInfoBox" style="padding: 30px; background: linear-gradient(135deg, #e8f5e9, #c8e6c9); border-radius: 12px; margin: 25px 0;">
                        <h4 style="color: var(--primary); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-star"></i> Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ© Ø§Ù„Ù…Ø«Ù„Ù‰ (Ù…Ø±ÙƒØ² Ø¨Ø­ÙˆØ« Ø­Ù„Ø¨ 2024)
                        </h4>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; margin-bottom: 25px;">
                            <div>
                                <h5 style="color: var(--accent-green); margin-bottom: 10px;">Ø§Ù„Ù†Ø³Ø¨ Ø§Ù„Ø­Ø¬Ù…ÙŠØ©:</h5>
                                <ul style="padding-right: 20px;">
                                    <li><strong>75-80%</strong> Ø¨ÙŠØªÙ…ÙˆØ³ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø©</li>
                                    <li><strong>10-15%</strong> Ø±Ù…Ù„ Ù†Ù‡Ø±ÙŠ Ù†Ø§Ø¹Ù… (Ù…ØºØ³ÙˆÙ„)</li>
                                    <li><strong>5-10%</strong> ÙƒØ±Ø¨ÙˆÙ†Ø§Øª ÙƒØ§Ù„Ø³ÙŠÙˆÙ… (Ù„Ø¶Ø¨Ø· pH)</li>
                                    <li><strong>0-5%</strong> Ø¨ÙŠØ±Ù„Ø§ÙŠØª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ù„ØªÙ‡ÙˆÙŠØ©)</li>
                                </ul>
                            </div>
                            
                            <div>
                                <h5 style="color: var(--accent-green); margin-bottom: 10px;">Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©:</h5>
                                <ul style="padding-right: 20px;">
                                    <li><strong>Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©:</strong> 75-76% (ÙˆØ²Ù†/ÙˆØ²Ù†)</li>
                                    <li><strong>Ø§Ù„Ø³Ù…Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ:</strong> 4-5 Ø³Ù… (45-50 Ù„ØªØ±/Ù…Â²)</li>
                                    <li><strong>Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ø±Ø·Ø¨Ø©:</strong> 0.12-0.14 ÙƒØ¬Ù…/Ù„ØªØ±</li>
                                    <li><strong>Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ù…Ø§Ø¡:</strong> 65-70%</li>
                                    <li><strong>Ø§Ù„ØªÙ‡ÙˆÙŠØ©:</strong> 25-30% ÙØ±Ø§ØºØ§Øª Ù‡ÙˆØ§Ø¦ÙŠØ©</li>
                                </ul>
                            </div>
                            
                            <div>
                                <h5 style="color: var(--accent-green); margin-bottom: 10px;">Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©:</h5>
                                <ul style="padding-right: 20px;">
                                    <li><strong>pH Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:</strong> 6.8-7.2</li>
                                    <li><strong>Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ (EC):</strong> 0.8-1.2 mS/cm</li>
                                    <li><strong>Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©:</strong> 85-90%</li>
                                    <li><strong>Ø§Ù„Ø±Ù…Ø§Ø¯:</strong> 10-15%</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="background: rgba(255,255,255,0.7); padding: 20px; border-radius: 8px; border-right: 4px solid var(--info-blue);">
                            <h5 style="color: var(--info-blue); margin-bottom: 10px;"><i class="fas fa-vial"></i> Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø¶Ø¨Ø· Ø§Ù„Ø¬ÙˆØ¯Ø©:</h5>
                            <p>1. Ù‚ÙŠØ§Ø³ Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø¨Ø§Ù„Ù…Ø¬ÙÙ Ø§Ù„Ø­Ø±Ø§Ø±ÙŠ (105Â°Ù… Ù„Ù…Ø¯Ø© 4 Ø³Ø§Ø¹Ø§Øª)<br>
                            2. Ø¶Ø¨Ø· pH Ø¨Ø¥Ø¶Ø§ÙØ© ÙƒØ±Ø¨ÙˆÙ†Ø§Øª Ø§Ù„ÙƒØ§Ù„Ø³ÙŠÙˆÙ… ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹<br>
                            3. Ø¨Ø³ØªØ±Ø© Ø§Ù„Ø®Ù„Ø·Ø© Ø¹Ù†Ø¯ 70Â°Ù… Ù„Ù…Ø¯Ø© Ø³Ø§Ø¹ØªÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„<br>
                            4. Ø§Ù„ØªØ¨Ø±ÙŠØ¯ Ø¥Ù„Ù‰ 25Â°Ù… Ù‚Ø¨Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª<br>
                            5. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¹Ù‚Ù… Ø¹Ù„Ù‰ Ø£Ø·Ø¨Ø§Ù‚ Ø¢Ø¬Ø§Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</p>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 25px;">
                        <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; border-right: 5px solid var(--info-blue);">
                            <h4 style="color: var(--info-blue); margin-bottom: 15px;"><i class="fas fa-lightbulb"></i> Ù†ØµØ§Ø¦Ø­ Ø®Ø¨Ø±Ø§Ø¡ Ù„ØªØ­Ø³ÙŠÙ† Ø·Ø¨Ù‚Ø© Ø§Ù„ØªØºØ·ÙŠØ©</h4>
                            <p>1. <strong>Ø¥Ø¶Ø§ÙØ© 20% Ø¨ÙŠØ±Ù„Ø§ÙŠØª</strong> ØªØ²ÙŠØ¯ Ø§Ù„ØªÙ‡ÙˆÙŠØ© ÙˆØªÙ‚Ù„Ù„ Ø§Ù„Ø¥ØµØ§Ø¨Ø© Ø¨Ø§Ù„Ø£Ù…Ø±Ø§Ø¶ Ø¨Ù†Ø³Ø¨Ø© 30%<br>
                            2. <strong>Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³</strong> ØªÙ‚Ù„Ù„ Ø§Ù„ØªÙ„ÙˆØ« Ø§Ù„Ù…ÙŠÙƒØ±ÙˆØ¨ÙŠ Ø¨Ù†Ø³Ø¨Ø© 90%<br>
                            3. <strong>Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø§Ù„Ù…Ø«Ù„Ù‰ (72-76%)</strong> ØªÙ‚Ù„Ù„ Ù…Ù† ØªØ´ÙˆÙ‡ Ø§Ù„Ø£Ø¬Ø³Ø§Ù… Ø§Ù„Ø«Ù…Ø±ÙŠØ©<br>
                            4. <strong>Ø§Ù„Ø³Ù…Ùƒ 4-5 Ø³Ù…</strong> ÙŠØ²ÙŠØ¯ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø¨Ù†Ø³Ø¨Ø© 15-20% Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø³Ù…Ùƒ 3 Ø³Ù…<br>
                            5. <strong>Ø¶Ø¨Ø· pH Ø¥Ù„Ù‰ 7.0</strong> ÙŠØ­Ø³Ù† Ù†Ù…Ùˆ Ø§Ù„Ù…Ø´ÙŠØ¬Ø© ÙˆÙŠÙ…Ù†Ø¹ Ù†Ù…Ùˆ Ø§Ù„Ù…Ù„ÙˆØ«Ø§Øª<br>
                            6. <strong>Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªØ¬Ø§Ù†Ø³</strong> ÙŠØ¶Ù…Ù† Ù†Ù…ÙˆØ§Ù‹ Ù…Ù†ØªØ¸Ù…Ø§Ù‹ Ù„Ù„Ø£Ø¬Ø³Ø§Ù… Ø§Ù„Ø«Ù…Ø±ÙŠØ©</p>
                        </div>
                        
                        <div style="background: #fff3cd; padding: 25px; border-radius: 12px; border-right: 5px solid var(--warning);">
                            <h4 style="color: #856404; margin-bottom: 15px;"><i class="fas fa-exclamation-triangle"></i> Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ø¦Ø¹Ø© ÙŠØ¬Ø¨ ØªØ¬Ù†Ø¨Ù‡Ø§</h4>
                            <p>1. <strong>Ø§Ù„Ø³Ù…Ùƒ ØºÙŠØ± Ø§Ù„Ù…ØªØ¬Ø§Ù†Ø³</strong> ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø¥Ø«Ù…Ø§Ø± ØºÙŠØ± Ù…Ù†ØªØ¸Ù…<br>
                            2. <strong>Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø§Ù„Ø¹Ø§Ù„ÙŠØ© (>80%)</strong> ØªØ³Ø¨Ø¨ Ø§Ø®ØªÙ†Ø§Ù‚ Ø§Ù„Ø¬Ø°ÙˆØ± Ø§Ù„ÙØ·Ø±ÙŠØ©<br>
                            3. <strong>Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø§Ù„Ù…Ù†Ø®ÙØ¶Ø© (<70%)</strong> ØªÙ‚Ù„Ù„ Ù…Ù† ØªØ´ÙƒÙ„ Ø§Ù„Ø£Ø¬Ø³Ø§Ù… Ø§Ù„Ø«Ù…Ø±ÙŠØ©<br>
                            4. <strong>Ø§Ù„Ø¶ØºØ· Ø§Ù„Ø²Ø§Ø¦Ø¯</strong> Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø¨Ù‚Ø© ÙŠÙ‚Ù„Ù„ Ø§Ù„ØªÙ‡ÙˆÙŠØ©<br>
                            5. <strong>Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØªÙ…ÙˆØ³ Ø­Ø§Ù…Ø¶ÙŠ</strong> Ø¯ÙˆÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© ÙŠÙ…Ù†Ø¹ Ù†Ù…Ùˆ Ø§Ù„Ù…Ø´ÙŠØ¬Ø©<br>
                            6. <strong>Ø¹Ø¯Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³</strong> ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ ØªÙ„ÙˆØ« Ø§Ù„Ø£Ù…Ø±Ø§Ø¶</p>
                        </div>
                    </div>
                    
                    <h3 style="margin-top: 30px;">ğŸ“ˆ ØªØ£Ø«ÙŠØ± Ø¥Ø¶Ø§ÙØ§Øª Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</h3>
                    <div class="formula-box">
                        // Ù…Ø¹Ø§Ø¯Ù„Ø§Øª ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©<br>
                        <code>Ø²ÙŠØ§Ø¯Ø©_Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©_Ø¨Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª = Ù†Ø³Ø¨Ø©_Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª Ã— 0.75% (Ù„ÙƒÙ„ 1% Ø¨ÙŠØ±Ù„Ø§ÙŠØª)</code><br>
                        <code>Ø²ÙŠØ§Ø¯Ø©_Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©_Ø¨Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© = 8% (Ù„Ù„Ø¨Ø³ØªØ±Ø©) Ø¥Ù„Ù‰ 12% (Ù„Ù„ØªØºÙ‚ÙŠÙ…)</code><br>
                        <code>Ø²ÙŠØ§Ø¯Ø©_Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©_Ø¨Ø¶Ø¨Ø·_pH = 15% (Ø¹Ù†Ø¯ pH 6.8-7.2 Ù…Ù‚Ø§Ø¨Ù„ <6.0)</code><br><br>
                        
                        // Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ø¹Ø§Ø¦Ø¯<br>
                        <code>ØªÙƒÙ„ÙØ©_Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³_Ø§Ù„Ù…Ø­Ø³Ù† = 1.80 $/Ù…Â² (Ø®Ù„Ø·Ø© Ø¹Ø§Ù„Ù…ÙŠØ©)</code><br>
                        <code>ØªÙƒÙ„ÙØ©_Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³_Ø§Ù„Ø¹Ø§Ø¯ÙŠ = 1.35 $/Ù…Â² (Ø®Ù„Ø·Ø© Ø³ÙˆØ±ÙŠØ©)</code><br>
                        <code>Ø§Ù„ÙØ±Ù‚_ÙÙŠ_Ø§Ù„ØªÙƒÙ„ÙØ© = 0.45 $/Ù…Â²</code><br><br>
                        
                        <code>Ø²ÙŠØ§Ø¯Ø©_Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© = 15% (Ù…Ø¹Ø¯Ù„ Ù…ØªÙˆØ³Ø· Ù„Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ø­Ø³Ù†Ø©)</code><br>
                        <code>Ø¥Ù†ØªØ§Ø¬ÙŠØ©_Ø§Ù„Ø£Ø³Ø§Ø³ = 30 ÙƒØ¬Ù…/Ù…Â²</code><br>
                        <code>Ø²ÙŠØ§Ø¯Ø©_Ø§Ù„Ø¥Ù†ØªØ§Ø¬ = 4.5 ÙƒØ¬Ù…/Ù…Â²</code><br>
                        <code>Ù‚ÙŠÙ…Ø©_Ø§Ù„Ø²ÙŠØ§Ø¯Ø© = 4.5 Ã— 2.5 $ = 11.25 $/Ù…Â²</code><br><br>
                        
                        <code>Ø§Ù„Ø¹Ø§Ø¦Ø¯_Ø¹Ù„Ù‰_Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± = (11.25 - 0.45) Ã· 0.45 Ã— 100 = 2400%</code><br>
                        <code>ÙØªØ±Ø©_Ø§Ø³ØªØ±Ø¯Ø§Ø¯_Ø±Ø£Ø³_Ø§Ù„Ù…Ø§Ù„ = 0.45 Ã· 11.25 Ã— 365 â‰ˆ 15 ÙŠÙˆÙ…Ø§Ù‹</code>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Tab 4: Comparison Table -->
    <div id="comparison-tab" class="tab-content">
        <div class="guide-section">
            <h2><i class="fas fa-balance-scale"></i> Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„Ø´Ø§Ù…Ù„ - Ø®Ù„Ø·Ø§Øª Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³</h2>
            
            <div style="margin-bottom: 30px;">
                <div class="phase-indicators">
                    <div class="phase-indicator active" onclick="filterComparison('all')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Ø§Ù„ÙƒÙ„</div>
                    </div>
                    <div class="phase-indicator" onclick="filterComparison('syrian')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Ø³ÙˆØ±ÙŠØ©</div>
                    </div>
                    <div class="phase-indicator" onclick="filterComparison('international')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Ø¹Ø§Ù„Ù…ÙŠØ©</div>
                    </div>
                    <div class="phase-indicator" onclick="filterComparison('economic')">
                        <div class="phase-dot"></div>
                        <div class="phase-label">Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©</div>
                    </div>
                    <div class="phase-connector" style="right: 20%; left: 20%;"></div>
                </div>
            </div>
            
            <table class="comparison-table" id="comparisonTable">
                <thead>
                    <tr>
                        <th>Ø§Ù„Ù…Ø¹ÙŠØ§Ø±</th>
                        <th>Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ© (Ù…Ø±ÙƒØ² Ø­Ù„Ø¨)</th>
                        <th>Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø­Ø¯Ø«Ø©</th>
                        <th>Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©</th>
                        <th>Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©</th>
                        <th>Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="syrian">
                        <td><strong>Ù†Ø³Ø¨ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª</strong></td>
                        <td>80% Ø¨ÙŠØªÙ…ÙˆØ³ØŒ 15% Ø±Ù…Ù„ØŒ 5% CaCOâ‚ƒ</td>
                        <td>70% Ø¨ÙŠØªÙ…ÙˆØ³ØŒ 20% Ø¨ÙŠØ±Ù„Ø§ÙŠØªØŒ 10% CaCOâ‚ƒ</td>
                        <td>90% Ø¨ÙŠØªÙ…ÙˆØ³ØŒ 10% CaCOâ‚ƒ</td>
                        <td>65% Ø¨ÙŠØªÙ…ÙˆØ³ØŒ 25% Ø¨ÙŠØ±Ù„Ø§ÙŠØªØŒ 10% CaCOâ‚ƒ</td>
                        <td>60% Ø¨ÙŠØªÙ…ÙˆØ³ØŒ 30% ÙƒÙ…Ø¨ÙˆØ³Øª ÙØ·Ø±ØŒ 10% Ù…Ø­Ø³Ù†Ø§Øª</td>
                    </tr>
                    <tr class="syrian">
                        <td><strong>Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø§Ù„Ù…Ø«Ù„Ù‰</strong></td>
                        <td>75-76%</td>
                        <td class="better">72-74%</td>
                        <td>76-78%</td>
                        <td class="better">72-74%</td>
                        <td>73-75%</td>
                    </tr>
                    <tr class="international">
                        <td><strong>Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ø¬Ø§ÙØ© (ÙƒØ¬Ù…/Ù„ØªØ±)</strong></td>
                        <td>0.10-0.12</td>
                        <td class="better">0.08-0.10</td>
                        <td>0.12-0.14</td>
                        <td>0.09-0.11</td>
                        <td>0.11-0.13</td>
                    </tr>
                    <tr class="international">
                        <td><strong>Ø§Ù„ØªÙ‡ÙˆÙŠØ© (% ÙØ±Ø§ØºØ§Øª)</strong></td>
                        <td>25-30%</td>
                        <td class="better">35-40%</td>
                        <td>20-25%</td>
                        <td class="better">35-40%</td>
                        <td>30-35%</td>
                    </tr>
                    <tr class="syrian">
                        <td><strong>Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ù…Ø§Ø¡</strong></td>
                        <td class="better">Ø¹Ø§Ù„ÙŠØ© (65-70%)</td>
                        <td>Ø¬ÙŠØ¯Ø© (60-65%)</td>
                        <td class="better">Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹ (70-75%)</td>
                        <td>Ø¬ÙŠØ¯Ø© Ø¬Ø¯Ø§Ù‹ (62-67%)</td>
                        <td>Ø¹Ø§Ù„ÙŠØ© (63-68%)</td>
                    </tr>
                    <tr class="economic">
                        <td><strong>Ø§Ù„ØªÙƒÙ„ÙØ©/Ù…Â² ($)</strong></td>
                        <td>1.35</td>
                        <td>1.80</td>
                        <td class="better">1.20</td>
                        <td>2.00</td>
                        <td>2.50</td>
                    </tr>
                    <tr class="international">
                        <td><strong>Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© (+/- %)</strong></td>
                        <td>0% (Ù‚Ø§Ø¹Ø¯Ø©)</td>
                        <td class="better">+15-20%</td>
                        <td class="worse">-10%</td>
                        <td class="better">+20-25%</td>
                        <td class="better">+25-30%</td>
                    </tr>
                    <tr class="international">
                        <td><strong>Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ø£Ù…Ø±Ø§Ø¶</strong></td>
                        <td>Ø¬ÙŠØ¯Ø©</td>
                        <td class="better">Ù…Ù…ØªØ§Ø²Ø©</td>
                        <td>Ù…ØªÙˆØ³Ø·Ø©</td>
                        <td class="better">Ù…Ù…ØªØ§Ø²Ø©</td>
                        <td class="better">Ù…Ù…ØªØ§Ø²Ø© Ø¬Ø¯Ø§Ù‹</td>
                    </tr>
                    <tr class="syrian">
                        <td><strong>Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ØªØ­Ø¶ÙŠØ±</strong></td>
                        <td class="better">Ø³Ù‡Ù„Ø©</td>
                        <td>Ù…ØªÙˆØ³Ø·Ø©</td>
                        <td class="better">Ø³Ù‡Ù„Ø© Ø¬Ø¯Ø§Ù‹</td>
                        <td>Ù…ØªÙˆØ³Ø·Ø©</td>
                        <td>ØµØ¹Ø¨Ø©</td>
                    </tr>
                    <tr class="economic">
                        <td><strong>ØªÙˆÙØ± Ø§Ù„Ù…ÙˆØ§Ø¯ Ù…Ø­Ù„ÙŠØ§Ù‹</strong></td>
                        <td class="better">Ù…ØªÙˆÙØ±Ø©</td>
                        <td>Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª Ù…Ø³ØªÙˆØ±Ø¯</td>
                        <td class="better">Ù…ØªÙˆÙØ±Ø©</td>
                        <td>Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª Ù…Ø³ØªÙˆØ±Ø¯</td>
                        <td>Ù…ØªÙˆÙØ±Ø©</td>
                    </tr>
                    <tr class="international">
                        <td><strong>Ø§Ù„Ø§Ø³ØªØ¯Ø§Ù…Ø© Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©</strong></td>
                        <td>Ø¬ÙŠØ¯Ø©</td>
                        <td>Ø¬ÙŠØ¯Ø©</td>
                        <td>Ø¬ÙŠØ¯Ø©</td>
                        <td>Ø¬ÙŠØ¯Ø©</td>
                        <td class="better">Ù…Ù…ØªØ§Ø²Ø©</td>
                    </tr>
                    <tr class="economic">
                        <td><strong>Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± (ROI)</strong></td>
                        <td>100%</td>
                        <td class="better">240%</td>
                        <td>80%</td>
                        <td class="better">300%</td>
                        <td class="better">350%</td>
                    </tr>
                </tbody>
            </table>
            
            <div style="margin-top: 40px; display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                <div style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); padding: 25px; border-radius: 12px; border-right: 5px solid var(--warning);">
                    <h4 style="color: #856404; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-exclamation-triangle"></i> ØªØ­Ø°ÙŠØ±Ø§Øª Ù‡Ø§Ù…Ø© Ù„Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø©
                    </h4>
                    <ul style="padding-right: 25px;">
                        <li><strong>Ø§Ù„Ø±Ù…Ù„ Ø§Ù„Ù†Ù‡Ø±ÙŠ:</strong> ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù†Ø¸ÙŠÙØ§Ù‹ ÙˆÙ…ØºØ³ÙˆÙ„Ø§Ù‹ ÙˆØ®Ø§Ù„ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„Ø£Ù…Ù„Ø§Ø­ ÙˆØ§Ù„Ø·ÙŠÙ†</li>
                        <li><strong>Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ Ø§Ù„Ø­Ø§Ù…Ø¶ÙŠ:</strong> (pH < 5) ÙŠØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ù„Ø²Ø§Ù…ÙŠØ© Ø¨Ø§Ù„ÙƒÙ„Ø³ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</li>
                        <li><strong>Ø³Ù…Ø§ÙƒØ© Ø§Ù„Ø·Ø¨Ù‚Ø©:</strong> Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø³Ù…Ùƒ Ø¹Ù† 5 Ø³Ù… ØªÙ‚Ù„Ù„ Ø§Ù„ØªÙ‡ÙˆÙŠØ© ÙˆØªØ³Ø¨Ø¨ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù†Ù…Ùˆ</li>
                        <li><strong>Ø§Ù„Ø±Ø·ÙˆØ¨Ø©:</strong> Ù†Ù‚Øµ Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø¹Ù† 70% ÙŠÙ‚Ù„Ù„ Ù…Ù† ØªØ´ÙƒÙ„ Ø§Ù„Ø£Ø¬Ø³Ø§Ù… Ø§Ù„Ø«Ù…Ø±ÙŠØ© ÙˆÙŠØ¨Ø·Ø¦ Ø§Ù„Ù†Ù…Ùˆ</li>
                        <li><strong>Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©:</strong> Ø¹Ø¯Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ ÙŠØ²ÙŠØ¯ Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙ„ÙˆØ« Ø§Ù„Ù…ÙŠÙƒØ±ÙˆØ¨ÙŠ Ø¨Ù†Ø³Ø¨Ø© 300%</li>
                        <li><strong>Ø§Ù„ØªØ®Ø²ÙŠÙ†:</strong> ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ ÙÙŠ Ø£Ù…Ø§ÙƒÙ† Ø±Ø·Ø¨Ø© ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ù†Ù…Ùˆ Ø§Ù„ÙØ·Ø±ÙŠØ§Øª Ø§Ù„Ù…Ù„ÙˆØ«Ø©</li>
                        <li><strong>Ø§Ù„Ø®Ù„Ø·:</strong> Ø§Ù„Ø®Ù„Ø· ØºÙŠØ± Ø§Ù„Ù…ØªØ¬Ø§Ù†Ø³ ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø¥Ø«Ù…Ø§Ø± ØºÙŠØ± Ù…Ù†ØªØ¸Ù… ÙˆØ¬ÙˆØ¯Ø© Ù…ØªØ¨Ø§ÙŠÙ†Ø©</li>
                    </ul>
                </div>
                
                <div style="background: linear-gradient(135deg, #d4edda, #c3e6cb); padding: 25px; border-radius: 12px; border-right: 5px solid var(--accent-green);">
                    <h4 style="color: #155724; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-check-circle"></i> Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø«Ø¨ØªØ©
                    </h4>
                    <ul style="padding-right: 25px;">
                        <li><strong>Ù‚ÙŠØ§Ø³ Ø§Ù„Ø±Ø·ÙˆØ¨Ø©:</strong> Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¬ÙÙ Ø§Ù„Ø­Ø±Ø§Ø±ÙŠ (105Â°Ù… Ù„Ù…Ø¯Ø© 4 Ø³Ø§Ø¹Ø§Øª) Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬ Ø¯Ù‚ÙŠÙ‚Ø©</li>
                        <li><strong>Ø¨Ø³ØªØ±Ø© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³:</strong> Ø¹Ù†Ø¯ 70Â°Ù… Ù„Ù…Ø¯Ø© Ø³Ø§Ø¹ØªÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ù„Ù‚Ø¶Ø§Ø¡ Ø¹Ù„Ù‰ 99% Ù…Ù† Ø§Ù„Ù…ÙŠÙƒØ±ÙˆØ¨Ø§Øª</li>
                        <li><strong>Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª:</strong> Ø¨Ù†Ø³Ø¨Ø© 20-25% Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ© ÙˆØ§Ù„ØªÙ‡ÙˆÙŠØ©</li>
                        <li><strong>Ø§Ù„ØªØ¨Ø±ÙŠØ¯:</strong> ØªØ¨Ø±ÙŠØ¯ Ø§Ù„Ø®Ù„Ø·Ø© Ø¥Ù„Ù‰ 25Â°Ù… Ù‚Ø¨Ù„ ØªØ·Ø¨ÙŠÙ‚Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª</li>
                        <li><strong>Ø¶Ø¨Ø· pH:</strong> ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒØ±Ø¨ÙˆÙ†Ø§Øª Ø§Ù„ÙƒØ§Ù„Ø³ÙŠÙˆÙ… Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ pH 6.8-7.2</li>
                        <li><strong>Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:</strong> Ø¨Ø´ÙƒÙ„ Ù…ØªØ¬Ø§Ù†Ø³ Ø¨Ø³Ù…Ùƒ 4-5 Ø³Ù… Ù…Ø¹ ØªØ¬Ù†Ø¨ Ø§Ù„Ø¶ØºØ· Ø§Ù„Ø²Ø§Ø¦Ø¯</li>
                        <li><strong>Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©:</strong> ÙØ­Øµ Ø§Ù„Ø¹ÙŠÙ†Ø§Øª Ø§Ù„Ù…ÙŠÙƒØ±ÙˆØ¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¹Ù‚Ù…</li>
                        <li><strong>Ø§Ù„ØªØ³Ø¬ÙŠÙ„:</strong> ØªÙˆØ«ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª ÙˆØ§Ù„Ù‚ÙŠØ§Ø³Ø§Øª Ù„Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„ØªØªØ¨Ø¹</li>
                    </ul>
                </div>
            </div>
            
            <h3 style="margin-top: 40px;">ğŸ“Š ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… (ROI Analysis)</h3>
            <div class="formula-box">
                // ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ø¹Ø§Ø¦Ø¯ Ù„Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø­Ø¯Ø«Ø©<br>
                <code>ØªÙƒÙ„ÙØ©_Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³_Ø§Ù„Ù…Ø­Ø³Ù† = 1.80 $/Ù…Â²</code><br>
                <code>ØªÙƒÙ„ÙØ©_Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³_Ø§Ù„Ø¹Ø§Ø¯ÙŠ = 1.35 $/Ù…Â² (Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ©)</code><br>
                <code>Ø§Ù„ÙØ±Ù‚_ÙÙŠ_Ø§Ù„ØªÙƒÙ„ÙØ© = 0.45 $/Ù…Â²</code><br><br>
                
                <code>Ø²ÙŠØ§Ø¯Ø©_Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© = 18% (Ù…Ø¹Ø¯Ù„ Ù…ØªÙˆØ³Ø· Ø­Ø³Ø¨ Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª)</code><br>
                <code>Ø¥Ù†ØªØ§Ø¬ÙŠØ©_Ø§Ù„Ø£Ø³Ø§Ø³ = 30 ÙƒØ¬Ù…/Ù…Â²/Ø¯ÙˆØ±Ø©</code><br>
                <code>Ø²ÙŠØ§Ø¯Ø©_Ø§Ù„Ø¥Ù†ØªØ§Ø¬ = 30 Ã— 0.18 = 5.4 ÙƒØ¬Ù…/Ù…Â²/Ø¯ÙˆØ±Ø©</code><br>
                <code>Ù‚ÙŠÙ…Ø©_Ø§Ù„Ø²ÙŠØ§Ø¯Ø© = 5.4 Ã— 2.5 $ = 13.50 $/Ù…Â²/Ø¯ÙˆØ±Ø©</code><br><br>
                
                <code>Ø¹Ø¯Ø¯_Ø§Ù„Ø¯ÙˆØ±Ø§Øª_Ø§Ù„Ø³Ù†ÙˆÙŠØ© = 6 Ø¯ÙˆØ±Ø§Øª (Ù„Ù„Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©)</code><br>
                <code>Ø§Ù„Ø²ÙŠØ§Ø¯Ø©_Ø§Ù„Ø³Ù†ÙˆÙŠØ© = 13.50 Ã— 6 = 81.00 $/Ù…Â²/Ø³Ù†Ø©</code><br>
                <code>Ø§Ù„ØªÙƒÙ„ÙØ©_Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©_Ø§Ù„Ø³Ù†ÙˆÙŠØ© = 0.45 Ã— 6 = 2.70 $/Ù…Â²/Ø³Ù†Ø©</code><br><br>
                
                <code>ØµØ§ÙÙŠ_Ø§Ù„Ø²ÙŠØ§Ø¯Ø©_Ø§Ù„Ø³Ù†ÙˆÙŠØ© = 81.00 - 2.70 = 78.30 $/Ù…Â²/Ø³Ù†Ø©</code><br>
                <code>Ø§Ù„Ø¹Ø§Ø¦Ø¯_Ø¹Ù„Ù‰_Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± = (78.30 Ã· 2.70) Ã— 100 = 2900%</code><br>
                <code>ÙØªØ±Ø©_Ø§Ø³ØªØ±Ø¯Ø§Ø¯_Ø±Ø£Ø³_Ø§Ù„Ù…Ø§Ù„ = 2.70 Ã· 81.00 Ã— 365 = 12.2 ÙŠÙˆÙ…Ø§Ù‹</code><br><br>
                
                // Ø­Ø³Ø§Ø¨ Ù†Ù‚Ø·Ø© Ø§Ù„ØªØ¹Ø§Ø¯Ù„<br>
                <code>Ù†Ù‚Ø·Ø©_Ø§Ù„ØªØ¹Ø§Ø¯Ù„_Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© = Ø§Ù„ÙØ±Ù‚_ÙÙŠ_Ø§Ù„ØªÙƒÙ„ÙØ© Ã· (Ø³Ø¹Ø±_Ø§Ù„ÙƒÙŠÙ„Ùˆ Ã— Ø¹Ø¯Ø¯_Ø§Ù„Ø¯ÙˆØ±Ø§Øª)</code><br>
                <code>Ù†Ù‚Ø·Ø©_Ø§Ù„ØªØ¹Ø§Ø¯Ù„_Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© = 0.45 Ã· (2.5 Ã— 6) = 0.03 ÙƒØ¬Ù…/Ù…Â²/Ø¯ÙˆØ±Ø©</code><br>
                <code>// Ø£ÙŠ Ø£Ù† Ø²ÙŠØ§Ø¯Ø© Ø¥Ù†ØªØ§Ø¬ÙŠØ© 30 Ø¬Ø±Ø§Ù…/Ù…Â²/Ø¯ÙˆØ±Ø© ØªÙƒÙÙŠ Ù„ØªØºØ·ÙŠØ© Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©</code>
            </div>
            
            <div style="margin-top: 30px; background: linear-gradient(135deg, #e8f4f8, #d4e7f0); padding: 30px; border-radius: 12px; border-right: 5px solid var(--info-blue);">
                <h4 style="color: var(--info-blue); margin-bottom: 20px;"><i class="fas fa-chart-line"></i> ØªÙˆØµÙŠØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© ÙˆØ§Ù„Ù‡Ø¯Ù</h4>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;">
                    <div>
                        <h5 style="color: var(--primary); margin-bottom: 10px;">ğŸ’° Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…Ø­Ø¯ÙˆØ¯Ø©</h5>
                        <p><strong>Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:</strong> Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ© (Ù…Ø±ÙƒØ² Ø­Ù„Ø¨)<br>
                        <strong>Ø§Ù„ØªÙƒÙ„ÙØ©:</strong> 1.35 $/Ù…Â²<br>
                        <strong>Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:</strong> 30 ÙƒØ¬Ù…/Ù…Â²<br>
                        <strong>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</strong> Ù…ÙˆØ§Ø¯ Ù…ØªÙˆÙØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ØŒ Ø³Ù‡Ù„Ø© Ø§Ù„ØªØ­Ø¶ÙŠØ±<br>
                        <strong>Ø§Ù„Ø¹Ø§Ø¦Ø¯:</strong> Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ØµØºÙŠØ±Ø©</p>
                    </div>
                    
                    <div>
                        <h5 style="color: var(--primary); margin-bottom: 10px;">âš–ï¸ Ø§Ù„ØªÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©</h5>
                        <p><strong>Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:</strong> Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø­Ø¯Ø«Ø©<br>
                        <strong>Ø§Ù„ØªÙƒÙ„ÙØ©:</strong> 1.80 $/Ù…Â²<br>
                        <strong>Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:</strong> 34-36 ÙƒØ¬Ù…/Ù…Â²<br>
                        <strong>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</strong> ØªÙˆØ§Ø²Ù† Ù…Ù…ØªØ§Ø² Ø¨ÙŠÙ† Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©<br>
                        <strong>Ø§Ù„Ø¹Ø§Ø¦Ø¯:</strong> Ø£Ø¹Ù„Ù‰ Ø¹Ø§Ø¦Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± (2900%)</p>
                    </div>
                    
                    <div>
                        <h5 style="color: var(--primary); margin-bottom: 10px;">ğŸ† Ø£Ø¹Ù„Ù‰ Ø¥Ù†ØªØ§Ø¬ÙŠØ© ÙˆØ¬ÙˆØ¯Ø©</h5>
                        <p><strong>Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:</strong> Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ© Ø£Ùˆ Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©<br>
                        <strong>Ø§Ù„ØªÙƒÙ„ÙØ©:</strong> 2.00-2.50 $/Ù…Â²<br>
                        <strong>Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:</strong> 36-39 ÙƒØ¬Ù…/Ù…Â²<br>
                        <strong>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</strong> Ø£Ø¹Ù„Ù‰ Ø¥Ù†ØªØ§Ø¬ÙŠØ©ØŒ Ù…Ù‚Ø§ÙˆÙ…Ø© Ø¹Ø§Ù„ÙŠØ© Ù„Ù„Ø£Ù…Ø±Ø§Ø¶<br>
                        <strong>Ø§Ù„Ø¹Ø§Ø¦Ø¯:</strong> Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ÙƒØ¨ÙŠØ±Ø© ÙˆØ§Ù„ØªØµØ¯ÙŠØ±</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tab 5: Charts -->
    <div id="charts-tab" class="tab-content">
        <div class="guide-section">
            <h2><i class="fas fa-chart-pie"></i> Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª ÙˆØ§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h2>
            
            <div class="charts-container">
                <div class="chart-box">
                    <h3><i class="fas fa-chart-pie"></i> ØªÙˆØ²ÙŠØ¹ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ/Ø§Ù„Ø¯ÙˆØ±Ø©</h3>
                    <canvas id="costDistributionChart"></canvas>
                </div>
                
                <div class="chart-box">
                    <h3><i class="fas fa-chart-bar"></i> Ù…Ù‚Ø§Ø±Ù†Ø© Ø®Ù„Ø·Ø§Øª Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³</h3>
                    <canvas id="peatComparisonChart"></canvas>
                </div>
                
                <div class="chart-box">
                    <h3><i class="fas fa-chart-line"></i> Ø§Ù„Ø±Ø¨Ø­ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</h3>
                    <canvas id="profitabilityChart"></canvas>
                </div>
                
                <div class="chart-box">
                    <h3><i class="fas fa-balance-scale"></i> ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h3>
                    <canvas id="sensitivityChart"></canvas>
                </div>
            </div>
            
            <div style="margin-top: 40px; display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                <div class="chart-box">
                    <h3><i class="fas fa-chart-area"></i> Ù…Ù†Ø­Ù†Ù‰ Ø§Ù„Ù†Ù…Ùˆ ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬</h3>
                    <canvas id="growthChart"></canvas>
                </div>
                
                <div class="chart-box">
                    <h3><i class="fas fa-chart-scatter"></i> Ø¹Ù„Ø§Ù‚Ø© Ø§Ù„ØªÙƒÙ„ÙØ© Ø¨Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</h3>
                    <canvas id="costYieldChart"></canvas>
                </div>
            </div>
            
            <div style="margin-top: 40px; background: var(--card-bg); padding: 35px; border-radius: var(--radius); box-shadow: var(--shadow); border: 1px solid rgba(0,0,0,0.05);">
                <h3><i class="fas fa-download"></i> ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 25px;">
                    <button class="btn-secondary" onclick="exportData('csv')">
                        <i class="fas fa-file-csv"></i> ØªØµØ¯ÙŠØ± ÙƒÙ€ CSV
                    </button>
                    <button class="btn-secondary" onclick="exportData('excel')">
                        <i class="fas fa-file-excel"></i> ØªØµØ¯ÙŠØ± ÙƒÙ€ Excel
                    </button>
                    <button class="btn-secondary" onclick="exportToPDF()">
                        <i class="fas fa-file-pdf"></i> ØªØµØ¯ÙŠØ± ÙƒÙ€ PDF
                    </button>
                    <button class="btn-secondary" onclick="exportReport('full')">
                        <i class="fas fa-file-alt"></i> ØªÙ‚Ø±ÙŠØ± ÙƒØ§Ù…Ù„
                    </button>
                    <button class="btn-secondary" onclick="printReport()">
                        <i class="fas fa-print"></i> Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±
                    </button>
                    <button class="btn-secondary" onclick="exportCharts()">
                        <i class="fas fa-image"></i> ØªØµØ¯ÙŠØ± Ø§Ù„Ø±Ø³ÙˆÙ…
                    </button>
                </div>
                
                <div style="margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #f8f9fa, #e9ecef); border-radius: 12px;">
                    <h4 style="color: var(--primary); margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-database"></i> Ù†Ø¸Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
                    </h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div>
                            <div style="font-size: 0.9rem; color: var(--text-light);">Ø§Ù„ØªÙƒÙˆÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</div>
                            <div class="data-value" id="savedConfigsCount">0</div>
                            <div class="data-unit">ØªÙƒÙˆÙŠÙ†</div>
                        </div>
                        
                        <div>
                            <div style="font-size: 0.9rem; color: var(--text-light);">Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</div>
                            <div class="data-value" id="storageUsed">0</div>
                            <div class="data-unit">ÙƒÙŠÙ„ÙˆØ¨Ø§ÙŠØª</div>
                        </div>
                        
                        <div>
                            <div style="font-size: 0.9rem; color: var(--text-light);">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«</div>
                            <div class="data-value" id="lastUpdate">-</div>
                            <div class="data-unit">ØªØ§Ø±ÙŠØ®</div>
                        </div>
                    </div>
                    
                    <div class="btn-group" style="margin-top: 20px;">
                        <button class="btn-secondary" onclick="showSavedConfigs()">
                            <i class="fas fa-list"></i> Ø¹Ø±Ø¶ Ø§Ù„ØªÙƒÙˆÙŠÙ†Ø§Øª
                        </button>
                        <button class="btn-secondary" onclick="backupConfigs()">
                            <i class="fas fa-download"></i> Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ
                        </button>
                        <button class="btn-secondary" onclick="restoreConfigs()">
                            <i class="fas fa-upload"></i> Ø§Ø³ØªØ¹Ø§Ø¯Ø©
                        </button>
                        <button class="btn-secondary" onclick="clearAllConfigs()">
                            <i class="fas fa-trash"></i> Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tab 6: Expert Guide -->
    <div id="expert-tab" class="tab-content">
        <div class="guide-section">
            <h2><i class="fas fa-graduation-cap"></i> Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù„Ù…ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± Ø§Ù„Ø£Ø¨ÙŠØ¶</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 30px;">
                <div class="data-card">
                    <h4><i class="fas fa-book"></i> Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</h4>
                    <ul style="padding-right: 20px;">
                        <li>Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø¨Ø­ÙˆØ« Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ© - Ù…Ø±ÙƒØ² Ø­Ù„Ø¨</li>
                        <li>Ø¯Ù„ÙŠÙ„ Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± Ø§Ù„Ø£Ø¨ÙŠØ¶ - ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ©</li>
                        <li>Mushroom Growers' Handbook - O. Y. (2004)</li>
                        <li>Ø¹Ù„Ù… ÙØ·Ø±ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„ - Ø¯. Ù…Ø­Ù…Ø¯ Ø¨ÙŠØ±Ù‚</li>
                        <li>Ø£Ø¨Ø­Ø§Ø« Ù…Ø±ÙƒØ² Ø¨Ø­ÙˆØ« Ø§Ù„ÙØ·Ø± - Ø¬Ø§Ù…Ø¹Ø© Ø­Ù„Ø¨</li>
                        <li>Journal of Mushroom Sciences</li>
                    </ul>
                </div>
                
                <div class="data-card">
                    <h4><i class="fas fa-cogs"></i> Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</h4>
                    <ul style="padding-right: 20px;">
                        <li>ISO 9001:2015 - Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©</li>
                        <li>GMP - Ù…Ù…Ø§Ø±Ø³Ø§Øª Ø§Ù„ØªØµÙ†ÙŠØ¹ Ø§Ù„Ø¬ÙŠØ¯Ø©</li>
                        <li>HACCP - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø§Ø·Ø±</li>
                        <li>GlobalGAP - Ø§Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ø¬ÙŠØ¯Ø©</li>
                        <li>Organic Certification - Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©</li>
                    </ul>
                </div>
                
                <div class="data-card">
                    <h4><i class="fas fa-tools"></i> Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</h4>
                    <ul style="padding-right: 20px;">
                        <li>Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ø±Ø·ÙˆØ¨Ø© ÙˆØ§Ù„Ø­Ø±Ø§Ø±Ø©</li>
                        <li>Ø¬Ù‡Ø§Ø² Ù‚ÙŠØ§Ø³ pH ÙˆEC</li>
                        <li>Ù…Ø¹Ø¯Ø§Øª Ø¨Ø³ØªØ±Ø© ÙˆØªØ¹Ù‚ÙŠÙ…</li>
                        <li>Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¨ÙŠØ¦ÙŠ</li>
                        <li>Ù…Ø¹Ø¯Ø§Øª Ø§Ù„ØªÙ‡ÙˆÙŠØ© ÙˆØ§Ù„ØªØ¨Ø±ÙŠØ¯</li>
                        <li>Ù…Ø®ØªØ¨Ø± Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©</li>
                    </ul>
                </div>
            </div>
            
            <h3 style="margin-top: 40px;">ğŸ”¬ Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„Ø§Øª Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h3>
            
            <div class="collapsible" id="protocol1">
                <div class="collapsible-header" onclick="toggleCollapsible('protocol1')">
                    <span><i class="fas fa-vial"></i> Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapsible-content">
                    <div class="formula-box">
                        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ­Ø¶ÙŠØ± Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠØ©</strong><br>
                        1. Ù‚Ø´ Ù‚Ù…Ø­ Ù…Ù‚Ø·Ø¹ (2-5 Ø³Ù…): 1000 ÙƒØ¬Ù…<br>
                        2. Ø±ÙˆØ« Ø­ØµØ§Ù† Ø·Ø§Ø²Ø¬: 300 ÙƒØ¬Ù…<br>
                        3. Ø¬Ø¨Ø³ Ø²Ø±Ø§Ø¹ÙŠ: 25 ÙƒØ¬Ù…<br>
                        4. ÙŠÙˆØ±ÙŠØ§: 5 ÙƒØ¬Ù…<br>
                        5. Ù…Ø§Ø¡: 1500-2000 Ù„ØªØ±<br><br>
                        
                        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§Ù„Ø®Ù„Ø· Ø§Ù„Ø£ÙˆÙ„ÙŠ</strong><br>
                        1. Ù†Ù‚Ø¹ Ø§Ù„Ù‚Ø´ Ù„Ù…Ø¯Ø© 24-48 Ø³Ø§Ø¹Ø©<br>
                        2. Ø®Ù„Ø· Ø§Ù„Ù‚Ø´ Ù…Ø¹ Ø§Ù„Ø±ÙˆØ« ÙˆØ§Ù„ÙŠÙˆØ±ÙŠØ§<br>
                        3. Ø¶Ø¨Ø· Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø¥Ù„Ù‰ 70-75%<br>
                        4. ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø£ÙƒÙˆØ§Ù… (1.5Ù… Ã— 1.5Ù… Ã— Ø§Ù„Ø·ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨)<br><br>
                        
                        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„ØªØ®Ù…ÙŠØ± Ø§Ù„Ø­Ø±Ø§Ø±ÙŠ</strong><br>
                        1. ØªÙ‚Ù„ÙŠØ¨ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª ÙƒÙ„ 2-3 Ø£ÙŠØ§Ù…<br>
                        2. Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© 55-65Â°Ù…<br>
                        3. Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¨Ø³ ÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø³Ø§Ø¨Ø¹<br>
                        4. Ù…Ø¯Ø© Ø§Ù„ØªØ®Ù…ÙŠØ±: 14-21 ÙŠÙˆÙ…<br><br>
                        
                        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§Ù„Ù†Ø¶Ø¬ ÙˆØ§Ù„ØªØ¨Ø±ÙŠØ¯</strong><br>
                        1. Ø®ÙØ¶ Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø¥Ù„Ù‰ 25-30Â°Ù…<br>
                        2. ÙØ­Øµ Ø§Ù„Ø±Ø·ÙˆØ¨Ø© (68-72%)<br>
                        3. Ù‚ÙŠØ§Ø³ pH (7.2-7.8)<br>
                        4. ÙØ­Øµ Ø§Ù„Ø±Ø§Ø¦Ø­Ø© ÙˆØ§Ù„Ù„ÙˆÙ†<br>
                        5. Ø§Ù„ØªØ¨Ø±ÙŠØ¯ Ø¥Ù„Ù‰ 25Â°Ù… Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
                    </div>
                </div>
            </div>
            
            <div class="collapsible" id="protocol2">
                <div class="collapsible-header" onclick="toggleCollapsible('protocol2')">
                    <span><i class="fas fa-seedling"></i> Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± ÙˆØªØºØ·ÙŠØªÙ‡</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapsible-content">
                    <div class="formula-box">
                        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ­Ø¶ÙŠØ± ØºØ±Ù Ø§Ù„Ø²Ø±Ø§Ø¹Ø©</strong><br>
                        1. ØªÙ†Ø¸ÙŠÙ ÙˆØªØ¹Ù‚ÙŠÙ… Ø§Ù„ØºØ±ÙØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„<br>
                        2. Ø¶Ø¨Ø· Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø¥Ù„Ù‰ 25Â°Ù…<br>
                        3. Ø¶Ø¨Ø· Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø¥Ù„Ù‰ 90-95%<br>
                        4. ØªØ¹Ù‚ÙŠÙ… Ø§Ù„Ø±ÙÙˆÙ ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª<br><br>
                        
                        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª</strong><br>
                        1. ØªÙˆØ²ÙŠØ¹ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ø¨Ø³Ù…Ùƒ 20-25 Ø³Ù…<br>
                        2. Ø¶ØºØ· Ø®ÙÙŠÙ Ù„Ù„ØªØ¬Ø§Ù†Ø³<br>
                        3. Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø±Ø§Ø±Ø© 24-26Â°Ù…<br>
                        4. Ø§Ù„Ø±Ø·ÙˆØ¨Ø© 90-95% Ù„Ù…Ø¯Ø© 14 ÙŠÙˆÙ…<br><br>
                        
                        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„ØªØºØ·ÙŠØ© (Casing)</strong><br>
                        1. ØªØ­Ø¶ÙŠØ± Ø®Ù„ÙŠØ· Ø§Ù„ØªØºØ·ÙŠØ© (4-5 Ø³Ù…)<br>
                        2. Ø¨Ø³ØªØ±Ø© Ø§Ù„Ø®Ù„ÙŠØ· Ø¹Ù†Ø¯ 70Â°Ù… Ù„Ù…Ø¯Ø© Ø³Ø§Ø¹ØªÙŠÙ†<br>
                        3. Ø§Ù„ØªØ¨Ø±ÙŠØ¯ Ø¥Ù„Ù‰ 25Â°Ù…<br>
                        4. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªØ¬Ø§Ù†Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø·Ø­<br>
                        5. Ø¶ØºØ· Ø®ÙÙŠÙ Ù„Ù„ØªÙ„Ø§Ù…Ø³<br><br>
                        
                        <strong>Ø§Ù„Ø®Ø·ÙˆØ© 4: ØªØ­ÙÙŠØ² Ø§Ù„Ø¥Ø«Ù…Ø§Ø±</strong><br>
                        1. Ø®ÙØ¶ Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø¥Ù„Ù‰ 16-18Â°Ù…<br>
                        2. Ø®ÙØ¶ Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø¥Ù„Ù‰ 85-90%<br>
                        3. Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØªÙ‡ÙˆÙŠØ©<br>
                        4. Ø®ÙØ¶ COâ‚‚ Ø¥Ù„Ù‰ 800-1200 ppm<br>
                        5. Ø§Ù„Ø¥Ø«Ù…Ø§Ø± ÙŠØ¨Ø¯Ø£ Ø¨Ø¹Ø¯ 7-10 Ø£ÙŠØ§Ù…
                    </div>
                </div>
            </div>
            
            <div class="collapsible" id="protocol3">
                <div class="collapsible-header" onclick="toggleCollapsible('protocol3')">
                    <span><i class="fas fa-clipboard-check"></i> Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapsible-content">
                    <div class="formula-box">
                        <strong>Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©:</strong><br>
                        1. Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©: 16-18Â°Ù… (Â±0.5Â°Ù…)<br>
                        2. Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø§Ù„Ù†Ø³Ø¨ÙŠØ©: 85-90% (Â±3%)<br>
                        3. COâ‚‚: 800-1500 ppm<br>
                        4. Ø§Ù„ØªÙ‡ÙˆÙŠØ©: 4-6 Ù…Ø±Ø§Øª/Ø³Ø§Ø¹Ø©<br><br>
                        
                        <strong>Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª:</strong><br>
                        1. Ø§Ù„Ø±Ø·ÙˆØ¨Ø©: 68-72%<br>
                        2. pH: 7.2-7.8<br>
                        3. Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†: 1.8-2.2%<br>
                        4. Ù†Ø³Ø¨Ø© C:N: 15:1 Ø¥Ù„Ù‰ 18:1<br>
                        5. Ø§Ù„Ù„ÙˆÙ†: Ø¨Ù†ÙŠ ØºØ§Ù…Ù‚ Ø¥Ù„Ù‰ Ø£Ø³ÙˆØ¯<br>
                        6. Ø§Ù„Ø±Ø§Ø¦Ø­Ø©: ØªØ±Ø§Ø¨ÙŠØ© Ù†Ø¸ÙŠÙØ©<br><br>
                        
                        <strong>Ù…Ø¹Ø§ÙŠÙŠØ± Ø·Ø¨Ù‚Ø© Ø§Ù„ØªØºØ·ÙŠØ©:</strong><br>
                        1. Ø§Ù„Ø³Ù…Ùƒ: 4-5 Ø³Ù…<br>
                        2. Ø§Ù„Ø±Ø·ÙˆØ¨Ø©: 72-76%<br>
                        3. pH: 6.8-7.2<br>
                        4. Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ: 0.8-1.2 mS/cm<br><br>
                        
                        <strong>Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¥Ù†ØªØ§Ø¬:</strong><br>
                        1. Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©: 30-45 ÙƒØ¬Ù…/Ù…Â²<br>
                        2. Ø§Ù„Ø¬ÙˆØ¯Ø©: 85-95% Ø¯Ø±Ø¬Ø© Ø£ÙˆÙ„Ù‰<br>
                        3. Ø­Ø¬Ù… Ø§Ù„Ø«Ù…Ø±: 4-6 Ø³Ù…<br>
                        4. Ø§Ù„Ù„ÙˆÙ†: Ø£Ø¨ÙŠØ¶ Ù†Ø§ØµØ¹<br>
                        5. Ø§Ù„ØµÙ„Ø§Ø¨Ø©: Ù…ØªÙˆØ³Ø·Ø© Ø¥Ù„Ù‰ ØµÙ„Ø¨Ø©
                    </div>
                </div>
            </div>
            
            <h3 style="margin-top: 40px;">ğŸ“š Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 25px;">
                <div class="scientific-box">
                    <h4><i class="fas fa-microscope"></i> Ù…ØµØ·Ù„Ø­Ø§Øª Ø²Ø±Ø§Ø¹ÙŠØ©</h4>
                    <p><strong>Ø§Ù„Ù…Ø´ÙŠØ¬Ø© (Mycelium):</strong> Ø§Ù„Ø®ÙŠÙˆØ· Ø§Ù„ÙØ·Ø±ÙŠØ© Ø§Ù„ØªÙŠ ØªÙ…Ø«Ù„ Ø¬Ø³Ù… Ø§Ù„ÙØ·Ø± Ø§Ù„Ø®Ø¶Ø±ÙŠ.</p>
                    <p><strong>Ø§Ù„Ø¥Ø«Ù…Ø§Ø± (Fruiting):</strong> Ø¹Ù…Ù„ÙŠØ© ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø£Ø¬Ø³Ø§Ù… Ø§Ù„Ø«Ù…Ø±ÙŠØ©.</p>
                    <p><strong>Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª (Compost):</strong> Ø§Ù„ÙˆØ³Ø· Ø§Ù„ØºØ°Ø§Ø¦ÙŠ Ø§Ù„Ù…Ø¹Ù‚Ù… Ù„Ù„ÙØ·Ø±.</p>
                    <p><strong>Ø§Ù„ØªØºØ·ÙŠØ© (Casing):</strong> Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ù…Ø­ÙØ²Ø© Ù„Ù„Ø¥Ø«Ù…Ø§Ø±.</p>
                </div>
                
                <div class="scientific-box">
                    <h4><i class="fas fa-flask"></i> Ù…ØµØ·Ù„Ø­Ø§Øª ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©</h4>
                    <p><strong>pH:</strong> Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ø­Ù…ÙˆØ¶Ø© ÙˆØ§Ù„Ù‚Ù„ÙˆÙŠØ© (0-14).</p>
                    <p><strong>EC:</strong> Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ Ù„Ù…Ø­Ù„ÙˆÙ„ Ø§Ù„ØªØ±Ø¨Ø©.</p>
                    <p><strong>C:N Ratio:</strong> Ù†Ø³Ø¨Ø© Ø§Ù„ÙƒØ±Ø¨ÙˆÙ† Ø¥Ù„Ù‰ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†.</p>
                    <p><strong>ppm:</strong> Ø¬Ø²Ø¡ ÙÙŠ Ø§Ù„Ù…Ù„ÙŠÙˆÙ† (ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„ØªØ±ÙƒÙŠØ²).</p>
                </div>
                
                <div class="scientific-box">
                    <h4><i class="fas fa-industry"></i> Ù…ØµØ·Ù„Ø­Ø§Øª Ù‡Ù†Ø¯Ø³ÙŠØ©</h4>
                    <p><strong>Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙ‡ÙˆÙŠØ©:</strong> Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ù‡ÙˆØ§Ø¡ ÙÙŠ Ø§Ù„Ø³Ø§Ø¹Ø©.</p>
                    <p><strong>Ø§Ù„Ø­Ù…Ù„ Ø§Ù„Ø­Ø±Ø§Ø±ÙŠ:</strong> ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù…Ù†Ù‚ÙˆÙ„Ø© Ø¹Ø¨Ø± Ø§Ù„Ù…ÙˆØ§Ø¯.</p>
                    <p><strong>Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ø¸Ø§Ù‡Ø±ÙŠØ©:</strong> ÙˆØ²Ù† Ø§Ù„Ù…Ø§Ø¯Ø© Ù…Ù‚Ø³ÙˆÙ…Ø§Ù‹ Ø¹Ù„Ù‰ Ø­Ø¬Ù…Ù‡Ø§.</p>
                    <p><strong>Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ÙØ¹Ø§Ù„Ø©:</strong> Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØµØ§Ù„Ø­Ø© Ù„Ù„Ø²Ø±Ø§Ø¹Ø© ÙØ¹Ù„ÙŠØ§Ù‹.</p>
                </div>
            </div>
            
            <div style="margin-top: 40px; text-align: center; padding: 30px; background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; border-radius: 12px;">
                <h3 style="color: white; margin-bottom: 20px;"><i class="fas fa-award"></i> Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø®Ø¨Ø±Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</h3>
                <p style="font-size: 1.1rem; margin-bottom: 15px;">ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ø¨Ø­Ø§Ø« Ø§Ù„Ø¹Ù„Ù…ÙŠØ© ÙˆØ§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠØ©</p>
                <p style="opacity: 0.9;">Ù…Ø±ÙƒØ² Ø¨Ø­ÙˆØ« Ø§Ù„ÙØ·Ø± - Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø¨Ø­ÙˆØ« Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ©</p>
                <p style="opacity: 0.9;">Ø¬Ø§Ù…Ø¹Ø© Ø­Ù„Ø¨ - ÙƒÙ„ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø©</p>
                <p style="opacity: 0.9;">ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø²Ø±Ø§Ø¹Ø© ÙˆØ§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠ - Ø³ÙˆØ±ÙŠØ©</p>
                <div style="margin-top: 20px; font-size: 0.9rem; opacity: 0.8;">
                    Ø§Ù„Ø¥ØµØ¯Ø§Ø± 8.0 | ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ø¯ÙŠØ«: ÙŠÙ†Ø§ÙŠØ± 2026 | Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-logo">
            <i class="fas fa-mushroom"></i>
        </div>
        
        <p><strong>Â© 2026 Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± Ø§Ù„Ø£Ø¨ÙŠØ¶ (Agaricus bisporus) - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© 8.0</strong></p>
        
        <div class="footer-contact">
            <div class="contact-item">
                <i class="fas fa-calendar"></i>
                <span><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:</strong> 12 ÙŠÙ†Ø§ÙŠØ± 2026</span>
            </div>
            
            <div class="contact-item">
                <i class="fas fa-user"></i>
                <span><strong>Ø¥Ø¹Ø¯Ø§Ø¯:</strong> Ù‚ØªÙŠØ¨Ø© Ø£Ù‚Ø±Ø¹ - Ø­Ù„Ø¨ - Ø³ÙˆØ±ÙŠØ§</span>
            </div>
            
            <div class="contact-item">
                <i class="fas fa-envelope"></i>
                <span><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯:</strong> kutaibaa@gmail.com</span>
            </div>
            
            <div class="contact-item">
                <i class="fas fa-github"></i>
                <span><strong>GitHub:</strong> kutaibaa-akraa</span>
            </div>
        </div>
        
        <p style="margin: 20px 0; max-width: 800px; margin-left: auto; margin-right: auto;">
            âš ï¸ <strong>ØªÙ†ÙˆÙŠÙ‡ Ù‡Ø§Ù…:</strong> Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© Ù…Ø®ØµØµØ© Ù„Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø£ÙˆÙ„ÙŠ ÙˆØªÙ‚Ø¯ÙŠØ± Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†Ù…Ø§Ø°Ø¬ Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ¹Ù„Ù…ÙŠØ©.
            ÙŠÙˆØµÙ‰ Ø¨Ø´Ø¯Ø© Ø¨Ø§Ø³ØªØ´Ø§Ø±Ø© Ø®Ø¨Ø±Ø§Ø¡ Ù…ØªØ®ØµØµÙŠÙ† ÙˆÙ…Ø±Ø§ÙƒØ² Ø¨Ø­Ø«ÙŠØ© Ù„Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ÙØ¹Ù„ÙŠ Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ÙƒØ¨ÙŠØ±Ø©.
            Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ØªÙ‚Ø¯ÙŠØ±ÙŠØ© ÙˆÙ‚Ø¯ ØªØ®ØªÙ„Ù Ø­Ø³Ø¨ Ø§Ù„Ø¸Ø±ÙˆÙ Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙˆØ§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠ.
        </p>
        
        <div style="margin-top: 30px; padding: 25px; background: white; border-radius: 10px; max-width: 1000px; margin-left: auto; margin-right: auto;">
            <h4 style="color: var(--primary); margin-bottom: 15px; text-align: center;"><i class="fas fa-book"></i> Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h4>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.85rem;">
                <div>
                    <strong>1. Ø§Ù„Ø£Ø¨Ø­Ø§Ø« Ø§Ù„Ù…Ø­Ù„ÙŠØ©:</strong><br>
                    â€¢ Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø¨Ø­ÙˆØ« Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ©<br>
                    â€¢ Ù…Ø±ÙƒØ² Ø§Ù„Ø¨Ø­ÙˆØ« Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ© - Ø­Ù„Ø¨<br>
                    â€¢ ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ©
                </div>
                
                <div>
                    <strong>2. Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©:</strong><br>
                    â€¢ Mushroom Growers' Handbook<br>
                    â€¢ The Mushroom Cultivator<br>
                    â€¢ Journal of Mushroom Sciences
                </div>
                
                <div>
                    <strong>3. Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©:</strong><br>
                    â€¢ Ø¹Ù„Ù… ÙØ·Ø±ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„<br>
                    â€¢ Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± Ø§Ù„Ø­Ø¯ÙŠØ«Ø©<br>
                    â€¢ Ø¥Ø¯Ø§Ø±Ø© Ù…Ø²Ø§Ø±Ø¹ Ø§Ù„ÙØ·Ø±
                </div>
                
                <div>
                    <strong>4. Ø§Ù„Ø£Ø¨Ø­Ø§Ø« Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©:</strong><br>
                    â€¢ Ø¬Ø§Ù…Ø¹Ø© Ø­Ù„Ø¨<br>
                    â€¢ Ø¬Ø§Ù…Ø¹Ø© Ø¯Ù…Ø´Ù‚<br>
                    â€¢ Ø§Ù„Ù…Ø¬Ù„Ø§Øª Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø­ÙƒÙ…Ø©
                </div>
            </div>
        </div>
        
        <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--border-color); font-size: 0.8rem; color: var(--text-light);">
            <p>ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø¯Ø¹Ù… Ù…Ù† Ø§Ù„Ø®Ø¨Ø±Ø§Ø¡ Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠÙŠÙ† ÙˆØ§Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† ÙˆØ§Ù„Ø¨Ø§Ø­Ø«ÙŠÙ† ÙÙŠ Ù…Ø¬Ø§Ù„ Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø±</p>
            <p style="margin-top: 10px;">ğŸš€ <strong>Ù‡Ø¯ÙÙ†Ø§:</strong> ØªØ·ÙˆÙŠØ± Ø§Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø±ÙŠØ© ÙÙŠ Ø§Ù„ÙˆØ·Ù† Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙˆØ±ÙØ¹ ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„Ù…Ù†ØªØ¬</p>
        </div>
    </footer>

    <script>
        // ==================== Global Variables ====================
        let charts = {};
        let savedConfigurations = JSON.parse(localStorage.getItem('mushroomConfigs')) || [];
        let currentPhase = '3';
        let currentCompostType = 'wheat';
        let currentPeatType = 'limed';

        // ==================== Initialization ====================
        document.addEventListener('DOMContentLoaded', function() {
            showLoading();
            
            // Initialize all components
            setTimeout(() => {
                updateSavedConfigsCount();
                updatePhaseSettings();
                updateTreatmentCost();
                validateInputs();
                calculateAll();
                convertPeatUnits();
                calculatePeatRequirements();
                updateCompostCalculations();
                
                // Initialize charts
                setTimeout(() => {
                    updateCharts();
                    hideLoading();
                }, 300);
                
                // Update storage info
                updateStorageInfo();
            }, 500);
            
            // Initialize collapsibles
            initCollapsibles();
            
            // Initialize tooltips
            initTooltips();
        });

        // ==================== Loading Functions ====================
        function showLoading() {
            document.getElementById('loadingOverlay').classList.add('active');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.remove('active');
        }

        // ==================== Tab Switching ====================
        function switchTab(tabName) {
            // Show loading
            showLoading();
            
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Deactivate all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            const selectedTab = document.getElementById(tabName + '-tab');
            selectedTab.classList.add('active');
            
            // Activate selected button
            event.target.classList.add('active');
            
            // Update charts if switching to charts tab
            if (tabName === 'charts') {
                setTimeout(() => {
                    updateCharts();
                    hideLoading();
                }, 300);
            } else if (tabName === 'comparison') {
                updateComparisonTable();
                hideLoading();
            } else {
                hideLoading();
            }
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ==================== Phase Management ====================
        function setPhase(phase) {
            currentPhase = phase;
            document.getElementById('compostPhase').value = phase;
            updatePhaseSettings();
            
            // Update indicators
            document.querySelectorAll('.phase-indicator').forEach(indicator => {
                indicator.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // Recalculate
            calculateAll();
        }

        function setCompostType(type) {
            currentCompostType = type;
            document.getElementById('compostType').value = type;
            updateCompostCalculations();
            
            // Update indicators
            document.querySelectorAll('.phase-indicator').forEach(indicator => {
                indicator.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
        }

        function setPeatType(type) {
            currentPeatType = type;
            document.getElementById('peatType').value = type === 'sphagnum' ? '1' : 
                                                       type === 'limed' ? '2' : '3';
            updatePeatCalculations();
            
            // Update indicators
            document.querySelectorAll('.phase-indicator').forEach(indicator => {
                indicator.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
        }

        // ==================== Phase Settings ====================
        function updatePhaseSettings() {
            const phase = document.getElementById('compostPhase').value;
            const badge = document.getElementById('phaseBadge');
            const yieldInput = document.getElementById('yieldPerSqM');
            
            switch(phase) {
                case "2":
                    badge.textContent = "Ø§Ù„Ø·ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ: 4-5 Ø¯ÙˆØ±Ø§Øª/Ø³Ù†Ø© - ÙŠØ­ØªØ§Ø¬ ØªÙ„Ù‚ÙŠØ­";
                    badge.className = "phase-badge phase-2";
                    yieldInput.value = 25;
                    document.getElementById('compostPrice').value = 200;
                    break;
                case "3":
                    badge.textContent = "Ø§Ù„Ø·ÙˆØ± Ø§Ù„Ø«Ø§Ù„Ø«: 6-7 Ø¯ÙˆØ±Ø§Øª/Ø³Ù†Ø© - Ø¬Ø§Ù‡Ø² Ù…Ø¨Ø§Ø´Ø±Ø© (Ø§Ù„Ù…Ø¹ÙŠØ§Ø± Ø§Ù„Ø³ÙˆØ±ÙŠ)";
                    badge.className = "phase-badge phase-3";
                    yieldInput.value = 30;
                    document.getElementById('compostPrice').value = 280;
                    break;
                case "4":
                    badge.textContent = "Ø§Ù„Ø·ÙˆØ± Ø§Ù„Ø±Ø§Ø¨Ø¹: 8-10 Ø¯ÙˆØ±Ø§Øª/Ø³Ù†Ø© - Ø£Ø¹Ù„Ù‰ Ø¥Ù†ØªØ§Ø¬ÙŠØ© ÙˆØ¬ÙˆØ¯Ø©";
                    badge.className = "phase-badge phase-4";
                    yieldInput.value = 35;
                    document.getElementById('compostPrice').value = 350;
                    break;
            }
            
            // Update phase indicators
            document.querySelectorAll('.phase-indicator').forEach(indicator => {
                indicator.classList.remove('active');
            });
            document.querySelectorAll('.phase-indicator')[parseInt(phase) - 2].classList.add('active');
            
            updateCompostCalculations();
        }

        // ==================== Input Range Handlers ====================
        function updateLengthFromRange() {
            const range = document.getElementById('roomLengthRange');
            const input = document.getElementById('roomLength');
            const display = document.getElementById('roomLengthValue');
            
            input.value = range.value;
            display.textContent = `${range.value} Ù…`;
            validateInputs();
        }

        function updateRangeFromLength() {
            const range = document.getElementById('roomLengthRange');
            const input = document.getElementById('roomLength');
            const display = document.getElementById('roomLengthValue');
            
            range.value = input.value;
            display.textContent = `${input.value} Ù…`;
            validateInputs();
        }

        function updateWidthFromRange() {
            const range = document.getElementById('roomWidthRange');
            const input = document.getElementById('roomWidth');
            const display = document.getElementById('roomWidthValue');
            
            input.value = range.value;
            display.textContent = `${range.value} Ù…`;
            validateInputs();
        }

        function updateRangeFromWidth() {
            const range = document.getElementById('roomWidthRange');
            const input = document.getElementById('roomWidth');
            const display = document.getElementById('roomWidthValue');
            
            range.value = input.value;
            display.textContent = `${input.value} Ù…`;
            validateInputs();
        }

        function updateCompostVolumeFromRange() {
            const range = document.getElementById('compostVolumeRange');
            const input = document.getElementById('compostVolume');
            const display = document.getElementById('compostVolumeValue');
            
            input.value = range.value;
            display.textContent = `${range.value} Ø·Ù†`;
            updateCompostCalculations();
        }

        function updateRangeFromCompostVolume() {
            const range = document.getElementById('compostVolumeRange');
            const input = document.getElementById('compostVolume');
            const display = document.getElementById('compostVolumeValue');
            
            range.value = input.value;
            display.textContent = `${input.value} Ø·Ù†`;
            updateCompostCalculations();
        }

        function updateThicknessFromRange() {
            const range = document.getElementById('peatThicknessRange');
            const input = document.getElementById('peatThickness');
            const display = document.getElementById('thicknessValue');
            
            input.value = range.value;
            display.textContent = `${range.value} Ø³Ù…`;
            validateInputs();
        }

        function updateRangeFromThickness() {
            const range = document.getElementById('peatThicknessRange');
            const input = document.getElementById('peatThickness');
            const display = document.getElementById('thicknessValue');
            
            range.value = input.value;
            display.textContent = `${input.value} Ø³Ù…`;
            validateInputs();
        }

        // ==================== Input Validation ====================
        function validateInputs() {
            const inputs = [
                {id: 'roomLength', min: 2, max: 50, bar: null},
                {id: 'roomWidth', min: 2, max: 20, bar: null},
                {id: 'aisleWidth', min: 0.5, max: 2, bar: 'aisleWidthBar'},
                {id: 'shelfLevels', min: 1, max: 10, bar: null},
                {id: 'shelfWidth', min: 0.5, max: 2, bar: null},
                {id: 'compostDensity', min: 70, max: 120, bar: 'densityBar'},
                {id: 'yieldPerSqM', min: 10, max: 60, bar: null},
                {id: 'exchangeRate', min: 1000, max: 100000, bar: null},
                {id: 'compostPrice', min: 100, max: 500, bar: null},
                {id: 'mushroomPrice', min: 0.5, max: 10, bar: null},
                {id: 'operationalCosts', min: 0, max: 5000, bar: null},
                {id: 'peatThickness', min: 3, max: 7, bar: null},
                {id: 'addPerlite', min: 0, max: 30, bar: 'perliteBar'},
                {id: 'peatPrice', min: 0.01, max: 0.1, bar: null},
                {id: 'targetMoisture', min: 65, max: 80, bar: 'moistureBar'},
                {id: 'compostMoisture', min: 60, max: 80, bar: null},
                {id: 'compostpH', min: 6.5, max: 8.5, bar: null},
                {id: 'compostNitrogen', min: 1.5, max: 2.5, bar: null},
                {id: 'peatpH', min: 5.5, max: 8.0, bar: null}
            ];
            
            inputs.forEach(input => {
                const element = document.getElementById(input.id);
                if (!element) return;
                
                let value = parseFloat(element.value);
                
                if (isNaN(value)) {
                    element.value = input.min;
                    value = input.min;
                } else if (value < input.min) {
                    element.value = input.min;
                    value = input.min;
                } else if (value > input.max) {
                    element.value = input.max;
                    value = input.max;
                }
                
                // Update progress bars
                if (input.bar) {
                    const percentage = ((value - input.min) / (input.max - input.min)) * 100;
                    document.getElementById(input.bar).style.width = percentage + '%';
                }
            });
            
            // Update specific progress bars
            updateProgressBars();
            updateRecommendations();
        }

        function updateProgressBars() {
            // Aisle width bar (optimal: 0.8m)
            const aisleWidth = parseFloat(document.getElementById('aisleWidth').value);
            const aislePercentage = Math.min(100, (aisleWidth / 2) * 100);
            document.getElementById('aisleWidthBar').style.width = aislePercentage + '%';
            
            // Density bar (optimal: 95-100 kg/mÂ²)
            const density = parseFloat(document.getElementById('compostDensity').value);
            const densityPercentage = ((density - 70) / (120 - 70)) * 100;
            document.getElementById('densityBar').style.width = densityPercentage + '%';
            
            // Perlite bar
            const perlite = parseFloat(document.getElementById('addPerlite').value);
            const perlitePercentage = (perlite / 30) * 100;
            document.getElementById('perliteBar').style.width = perlitePercentage + '%';
            
            // Moisture bar (optimal: 75%)
            const moisture = parseFloat(document.getElementById('targetMoisture').value);
            const moisturePercentage = ((moisture - 65) / (80 - 65)) * 100;
            document.getElementById('moistureBar').style.width = moisturePercentage + '%';
        }

        function updateRecommendations() {
            const recommendations = document.getElementById('recommendations');
            const roomLength = parseFloat(document.getElementById('roomLength').value);
            const roomWidth = parseFloat(document.getElementById('roomWidth').value);
            const aisleWidth = parseFloat(document.getElementById('aisleWidth').value);
            const density = parseFloat(document.getElementById('compostDensity').value);
            const perlite = parseFloat(document.getElementById('addPerlite').value);
            
            let html = '';
            
            // Room size recommendations
            if (roomLength < 10) {
                html += '<p>âš ï¸ <strong>Ø§Ù„Ø·ÙˆÙ„ ØµØºÙŠØ±:</strong> ÙÙƒØ± ÙÙŠ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø·ÙˆÙ„ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙƒÙØ§Ø¡Ø©</p>';
            } else if (roomLength > 30) {
                html += '<p>âš ï¸ <strong>Ø§Ù„Ø·ÙˆÙ„ ÙƒØ¨ÙŠØ±:</strong> Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ù…Ø±Ø§Øª Ø¹Ø±Ø¶ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ©</p>';
            } else {
                html += '<p>âœ… <strong>Ø§Ù„Ø·ÙˆÙ„ Ù…Ù†Ø§Ø³Ø¨</strong> Ù„Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ</p>';
            }
            
            if (roomWidth < 4) {
                html += '<p>âš ï¸ <strong>Ø§Ù„Ø¹Ø±Ø¶ Ø¶ÙŠÙ‚:</strong> Ù‚Ø¯ ÙŠØ­Ø¯ Ù…Ù† Ø¹Ø¯Ø¯ ØµÙÙˆÙ Ø§Ù„Ø±ÙÙˆÙ</p>';
            } else if (roomWidth > 8) {
                html += '<p>âš ï¸ <strong>Ø§Ù„Ø¹Ø±Ø¶ ÙˆØ§Ø³Ø¹:</strong> ØªØ£ÙƒØ¯ Ù…Ù† ÙƒÙØ§Ø¡Ø© Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‡ÙˆÙŠØ©</p>';
            } else {
                html += '<p>âœ… <strong>Ø§Ù„Ø¹Ø±Ø¶ Ù…Ù†Ø§Ø³Ø¨</strong> Ù„Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ</p>';
            }
            
            // Aisle width recommendations
            if (aisleWidth < 0.7) {
                html += '<p>âš ï¸ <strong>Ø§Ù„Ù…Ù…Ø± Ø¶ÙŠÙ‚:</strong> Ù‚Ø¯ ÙŠØµØ¹Ø¨ Ø­Ø±ÙƒØ© Ø§Ù„Ø¹Ù…Ø§Ù„ ÙˆØ§Ù„Ù…Ø¹Ø¯Ø§Øª</p>';
            } else if (aisleWidth > 1.0) {
                html += '<p>âš ï¸ <strong>Ø§Ù„Ù…Ù…Ø± ÙˆØ§Ø³Ø¹:</strong> ÙŠÙ‚Ù„Ù„ Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø©</p>';
            } else {
                html += '<p>âœ… <strong>Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù…Ø± Ù…Ø«Ø§Ù„ÙŠ</strong> Ù„Ù„Ø®Ø¯Ù…Ø© ÙˆØ§Ù„Ø­Ø±ÙƒØ©</p>';
            }
            
            // Density recommendations
            if (density < 90) {
                html += '<p>âš ï¸ <strong>Ø§Ù„ÙƒØ«Ø§ÙØ© Ù…Ù†Ø®ÙØ¶Ø©:</strong> Ù‚Ø¯ ØªÙ‚Ù„Ù„ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</p>';
            } else if (density > 105) {
                html += '<p>âš ï¸ <strong>Ø§Ù„ÙƒØ«Ø§ÙØ© Ù…Ø±ØªÙØ¹Ø©:</strong> Ù‚Ø¯ ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‡ÙˆÙŠØ©</p>';
            } else {
                html += '<p>âœ… <strong>Ø§Ù„ÙƒØ«Ø§ÙØ© Ù…Ø«Ø§Ù„ÙŠØ©</strong> Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø³ÙˆØ±ÙŠØ©</p>';
            }
            
            // Perlite recommendations
            if (perlite > 0 && perlite < 20) {
                html += '<p>âœ… <strong>Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª Ø¬ÙŠØ¯Ø©</strong> Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙ‡ÙˆÙŠØ©</p>';
            } else if (perlite >= 20) {
                html += '<p>âš ï¸ <strong>Ù†Ø³Ø¨Ø© Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª Ø¹Ø§Ù„ÙŠØ©:</strong> Ù‚Ø¯ ØªÙ‚Ù„Ù„ Ù…Ù† Ø§Ø­ØªÙØ§Ø¸ Ø§Ù„Ù…Ø§Ø¡</p>';
            }
            
            recommendations.innerHTML = html;
        }

        // ==================== Peat Calculations ====================
        function updatePeatCalculations() {
            const peatType = document.getElementById('peatType').value;
            const thickness = parseFloat(document.getElementById('peatThickness').value);
            
            if (peatType === "3" && thickness < 4) {
                document.getElementById('peatThickness').value = 4.5;
                document.getElementById('peatThicknessRange').value = 4.5;
                document.getElementById('thicknessValue').textContent = '4.5 Ø³Ù…';
            }
            
            // Update peat percentages
            const perlite = parseInt(document.getElementById('addPerlite').value);
            document.getElementById('peatPercentage').textContent = `${100 - perlite}%`;
            document.getElementById('perlitePercentage').textContent = `${perlite}%`;
            document.getElementById('otherAdditives').textContent = '0%';
            
            if (peatType === "5") { // Syrian mix
                document.getElementById('otherAdditives').textContent = '20%';
                document.getElementById('peatPercentage').textContent = '80%';
            }
        }

        function updateTreatmentCost() {
            const method = document.getElementById('treatmentMethod').value;
            const badge = document.getElementById('treatmentCostBadge');
            
            let costPerLiter, methodName, badgeClass;
            
            switch(method) {
                case "none":
                    costPerLiter = 0;
                    methodName = "Ø¨Ø¯ÙˆÙ† Ù…Ø¹Ø§Ù„Ø¬Ø©";
                    badgeClass = "phase-4";
                    break;
                case "pasteurization":
                    costPerLiter = 0.002;
                    methodName = "Ø¨Ø³ØªØ±Ø©";
                    badgeClass = "phase-2";
                    break;
                case "sterilization":
                    costPerLiter = 0.005;
                    methodName = "ØªØ¹Ù‚ÙŠÙ… ÙƒØ§Ù…Ù„";
                    badgeClass = "phase-3";
                    break;
                case "chemical":
                    costPerLiter = 0.003;
                    methodName = "Ù…Ø¹Ø§Ù„Ø¬Ø© ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©";
                    badgeClass = "phase-3";
                    break;
                case "biological":
                    costPerLiter = 0.004;
                    methodName = "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ©";
                    badgeClass = "phase-3";
                    break;
                default:
                    costPerLiter = 0.002;
                    methodName = "Ø¨Ø³ØªØ±Ø©";
                    badgeClass = "phase-2";
            }
            
            badge.textContent = `ØªÙƒÙ„ÙØ© ${methodName}: ${costPerLiter.toFixed(3)} $/Ù„ØªØ±`;
            badge.className = `phase-badge ${badgeClass}`;
            
            return costPerLiter;
        }

        // ==================== Unit Converter ====================
        function convertPeatUnits(source = 'volume') {
            const volumeInput = document.getElementById('convertVolume');
            const weightInput = document.getElementById('convertWeight');
            const density = parseFloat(document.getElementById('peatDensitySelect').value);
            const resultDiv = document.getElementById('conversionResult');
            
            if (source === 'volume') {
                const volume = parseFloat(volumeInput.value);
                const weight = volume * density;
                weightInput.value = weight.toFixed(1);
                resultDiv.innerHTML = `<i class="fas fa-equals"></i> ${volume.toLocaleString()} Ù„ØªØ± = ${weight.toFixed(1)} ÙƒØ¬Ù… (ÙƒØ«Ø§ÙØ© ${density} ÙƒØ¬Ù…/Ù„ØªØ±)`;
            } else {
                const weight = parseFloat(weightInput.value);
                const volume = weight / density;
                volumeInput.value = volume.toFixed(0);
                resultDiv.innerHTML = `<i class="fas fa-equals"></i> ${weight.toFixed(1)} ÙƒØ¬Ù… = ${volume.toLocaleString()} Ù„ØªØ± (ÙƒØ«Ø§ÙØ© ${density} ÙƒØ¬Ù…/Ù„ØªØ±)`;
            }
        }

        // ==================== Calculate Peat Requirements ====================
        function calculatePeatRequirements() {
            const totalArea = parseFloat(document.getElementById('totalArea').textContent) || 0;
            const peatThickness = parseFloat(document.getElementById('peatThickness').value);
            const peatPrice = parseFloat(document.getElementById('peatPrice').value);
            const addPerlite = parseInt(document.getElementById('addPerlite').value);
            const targetMoisture = parseInt(document.getElementById('targetMoisture').value);
            
            // Ø­Ø³Ø§Ø¨ Ø­Ø¬Ù… Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³
            const peatVolume = totalArea * peatThickness * 10; // Ù„ØªØ±
            
            // Ø­Ø³Ø§Ø¨ Ø­Ø¬Ù… Ø§Ù„Ø¨ÙŠØ±Ù„Ø§ÙŠØª
            const perliteVolume = peatVolume * (addPerlite / 100);
            const totalPeatVolume = peatVolume - perliteVolume;
            
            // Ø­Ø³Ø§Ø¨ ÙƒØ«Ø§ÙØ© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³ Ø­Ø³Ø¨ Ø§Ù„Ø±Ø·ÙˆØ¨Ø©
            const baseDensity = 0.10; // ÙƒØ«Ø§ÙØ© Ø¬Ø§ÙØ©
            const moistureFactor = targetMoisture / 100;
            const peatDensity = baseDensity * (1 + moistureFactor);
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆØ²Ù†
            const peatWeight = (totalPeatVolume * peatDensity) / 1000; // Ø·Ù†
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
            const treatmentCostPerLiter = updateTreatmentCost();
            const treatmentCost = peatVolume * treatmentCostPerLiter;
            const peatCost = (totalPeatVolume * peatPrice) + treatmentCost;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©
            const compostCost = parseFloat(document.getElementById('totalCompost').textContent) * 
                               parseFloat(document.getElementById('compostPrice').value);
            const operationalCosts = parseFloat(document.getElementById('operationalCosts').value);
            const totalCycleCost = compostCost + operationalCosts + peatCost;
            const peatCostPercentage = totalCycleCost > 0 ? (peatCost / totalCycleCost * 100) : 0;
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            document.getElementById('peatVolumeResult').textContent = Math.round(peatVolume).toLocaleString();
            document.getElementById('peatWeightResult').textContent = peatWeight.toFixed(2);
            document.getElementById('peatCostResult').textContent = peatCost.toFixed(0);
            document.getElementById('treatmentCostResult').textContent = treatmentCost.toFixed(2);
            document.getElementById('perlitePercentageResult').textContent = addPerlite;
            document.getElementById('peatCostPercentageResult').textContent = peatCostPercentage.toFixed(1);
            
            // Update peat cost chart
            updatePeatCostChart(peatCost, treatmentCost, perliteVolume * peatPrice);
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
            updatePeatInfoBox();
        }

        function updatePeatInfoBox() {
            const peatType = document.getElementById('peatType').value;
            const box = document.getElementById('peatInfoBox');
            
            let title, content;
            
            switch(peatType) {
                case "1":
                    title = "Ø¨ÙŠØªÙ…ÙˆØ³ Ø³ÙØ§Ø¬Ù†ÙˆÙ… Ø­Ø§Ù…Ø¶ÙŠ";
                    content = `
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <h5>Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª:</h5>
                                <ul>
                                    <li>pH: 3.5-4.5</li>
                                    <li>ÙŠØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨Ø§Ù„ÙƒÙ„Ø³</li>
                                    <li>Ø±Ø·ÙˆØ¨Ø© Ù…Ø«Ù„Ù‰: 70-74%</li>
                                </ul>
                            </div>
                            <div>
                                <h5>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</h5>
                                <ul>
                                    <li>Ù‚Ø¯Ø±Ø© Ø¹Ø§Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ù…Ø§Ø¡</li>
                                    <li>Ø¨Ù†ÙŠØ© Ù…Ø³Ø§Ù…ÙŠØ© Ù…Ù…ØªØ§Ø²Ø©</li>
                                    <li>Ø³Ø¹Ø± Ù…Ù†Ø®ÙØ¶ Ù†Ø³Ø¨ÙŠØ§Ù‹</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
                case "2":
                    title = "Ø¨ÙŠØªÙ…ÙˆØ³ Ù…Ø¹Ø§Ù„Ø¬ Ø¨Ø§Ù„ÙƒÙ„Ø³";
                    content = `
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <h5>Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª:</h5>
                                <ul>
                                    <li>pH: 6.5-7.5</li>
                                    <li>Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¨Ø§Ø´Ø±Ø©</li>
                                    <li>Ø±Ø·ÙˆØ¨Ø© Ù…Ø«Ù„Ù‰: 72-76%</li>
                                </ul>
                            </div>
                            <div>
                                <h5>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</h5>
                                <ul>
                                    <li>Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø¶Ø§ÙÙŠØ©</li>
                                    <li>Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ù†Ù…Ùˆ Ø§Ù„Ù…Ø´ÙŠØ¬Ø©</li>
                                    <li>ØªÙ‚Ù„ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„ØªØ­Ø¶ÙŠØ±</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
                case "3":
                    title = "Ø®Ù„Ø·Ø© Ù…Ø®ØªÙ„Ø·Ø© (Ø¨ÙŠØªÙ…ÙˆØ³ + Ø¨ÙŠØ±Ù„Ø§ÙŠØª)";
                    content = `
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <h5>Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª:</h5>
                                <ul>
                                    <li>ØªÙ‡ÙˆÙŠØ© Ù…Ù…ØªØ§Ø²Ø©</li>
                                    <li>Ù…Ù‚Ø§ÙˆÙ…Ø© Ø¹Ø§Ù„ÙŠØ© Ù„Ù„Ø£Ù…Ø±Ø§Ø¶</li>
                                    <li>Ø±Ø·ÙˆØ¨Ø© Ù…Ø«Ù„Ù‰: 70-74%</li>
                                </ul>
                            </div>
                            <div>
                                <h5>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</h5>
                                <ul>
                                    <li>ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¥ØµØ§Ø¨Ø© Ø¨Ø§Ù„Ø£Ù…Ø±Ø§Ø¶ 30%</li>
                                    <li>ØªØ­Ø³ÙŠÙ† Ù†Ù…Ùˆ Ø§Ù„Ø¬Ø°ÙˆØ± Ø§Ù„ÙØ·Ø±ÙŠØ©</li>
                                    <li>Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø£Ø¹Ù„Ù‰ Ø¨Ù†Ø³Ø¨Ø© 15-20%</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
                case "4":
                    title = "Ø¨ÙŠØªÙ…ÙˆØ³ Ù…Ø¹Ø§Ù„Ø¬ Ù…Ø³Ø¨Ù‚Ø§Ù‹";
                    content = `
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <h5>Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª:</h5>
                                <ul>
                                    <li>Ù…Ø¹Ù‚Ù… ÙˆØ¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</li>
                                    <li>pH Ù…Ø¶Ø¨ÙˆØ· Ù…Ø³Ø¨Ù‚Ø§Ù‹</li>
                                    <li>Ø±Ø·ÙˆØ¨Ø© Ù…Ø«Ø§Ù„ÙŠØ© Ù…Ø­Ø³ÙˆØ¨Ø©</li>
                                </ul>
                            </div>
                            <div>
                                <h5>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</h5>
                                <ul>
                                    <li>ØªÙˆÙÙŠØ± Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„Ø¬Ù‡Ø¯</li>
                                    <li>Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø©</li>
                                    <li>Ù…Ù„Ø§Ø¦Ù… Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ÙƒØ¨ÙŠØ±Ø©</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
                case "5":
                    title = "Ø§Ù„Ø®Ù„Ø·Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ© (Ù…Ø±ÙƒØ² Ø¨Ø­ÙˆØ« Ø­Ù„Ø¨)";
                    content = `
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <h5>Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª:</h5>
                                <ul>
                                    <li>80% Ø¨ÙŠØªÙ…ÙˆØ³ØŒ 15% Ø±Ù…Ù„ØŒ 5% Ø¬Ø¨Ø³</li>
                                    <li>Ø±Ø·ÙˆØ¨Ø© Ù†Ù‡Ø§Ø¦ÙŠØ©: 75-76%</li>
                                    <li>ÙƒØ«Ø§ÙØ© Ø±Ø·Ø¨Ø©: 0.12-0.14 ÙƒØ¬Ù…/Ù„ØªØ±</li>
                                </ul>
                            </div>
                            <div>
                                <h5>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</h5>
                                <ul>
                                    <li>Ù…ÙˆØ§Ø¯ Ù…ØªÙˆÙØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹</li>
                                    <li>ØªÙƒÙ„ÙØ© Ù…Ù†Ø®ÙØ¶Ø©</li>
                                    <li>Ù…Ø«Ø¨ØªØ© Ø¹Ù„Ù…ÙŠØ§Ù‹ ÙˆÙ…ÙŠØ¯Ø§Ù†ÙŠØ§Ù‹</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
            }
            
            const costPerM2 = (parseFloat(document.getElementById('peatPrice').value) * 45).toFixed(2);
            box.innerHTML = `
                <h4 style="color: var(--primary); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-star"></i> ${title}
                </h4>
                ${content}
                <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.7); border-radius: 8px;">
                    <p><strong>Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ù…Ù‚Ø¯Ø±Ø©/Ù…Â²:</strong> ${costPerM2} $</p>
                    <p><strong>Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ù…Ù‚Ø¯Ø±Ø©:</strong> ${(costPerM2 * (parseFloat(document.getElementById('totalArea').textContent) || 0)).toFixed(2)} $</p>
                </div>
            `;
        }

        // ==================== Compost Calculations ====================
        function updateCompostCalculations() {
            const compostType = document.getElementById('compostType').value;
            const volume = parseFloat(document.getElementById('compostVolume').value);
            const moisture = parseFloat(document.getElementById('compostMoisture').value);
            const pH = parseFloat(document.getElementById('compostpH').value);
            const nitrogen = parseFloat(document.getElementById('compostNitrogen').value);
            
            let rawMaterials, compostingTime, materialCost, operationCost, targetTemps, quality;
            
            switch(compostType) {
                case "wheat":
                    rawMaterials = volume * 1.3; // 30% extra for moisture loss
                    compostingTime = 18;
                    materialCost = volume * 150;
                    operationCost = volume * 50;
                    targetTemps = "55-65";
                    quality = calculateQuality(moisture, pH, nitrogen);
                    break;
                case "rice":
                    rawMaterials = volume * 1.35;
                    compostingTime = 20;
                    materialCost = volume * 140;
                    operationCost = volume * 55;
                    targetTemps = "58-68";
                    quality = calculateQuality(moisture, pH, nitrogen) * 0.95;
                    break;
                case "mixed":
                    rawMaterials = volume * 1.4;
                    compostingTime = 22;
                    materialCost = volume * 170;
                    operationCost = volume * 60;
                    targetTemps = "60-70";
                    quality = calculateQuality(moisture, pH, nitrogen) * 1.05;
                    break;
                case "industrial":
                    rawMaterials = volume;
                    compostingTime = 0;
                    materialCost = volume * 250;
                    operationCost = volume * 10;
                    targetTemps = "Ø¬Ø§Ù‡Ø²";
                    quality = 95;
                    break;
            }
            
            // Apply quality modifiers
            if (moisture < 68 || moisture > 72) quality *= 0.9;
            if (pH < 7.2 || pH > 7.8) quality *= 0.85;
            if (nitrogen < 1.8 || nitrogen > 2.2) quality *= 0.9;
            
            const totalCost = materialCost + operationCost;
            const costPerTon = totalCost / volume;
            const costSavings = ((280 - costPerTon) / 280) * 100; // Compared to Phase III price
            
            // Update UI
            document.getElementById('rawMaterials').textContent = rawMaterials.toFixed(1);
            document.getElementById('compostingTime').textContent = compostingTime;
            document.getElementById('materialCost').textContent = `$${materialCost.toFixed(0)}`;
            document.getElementById('operationCost').textContent = `$${operationCost.toFixed(0)}`;
            document.getElementById('totalCompostCost').textContent = `$${totalCost.toFixed(0)}`;
            document.getElementById('targetTemps').textContent = targetTemps;
            document.getElementById('compostQuality').textContent = quality.toFixed(0);
            document.getElementById('costSavings').textContent = costSavings.toFixed(1);
            document.getElementById('totalCostPerTon').textContent = `$${costPerTon.toFixed(0)}`;
            
            // Update composting chart
            updateCompostingChart();
        }

        function calculateQuality(moisture, pH, nitrogen) {
            let quality = 85; // Base quality
            
            // Moisture score (optimal: 70%)
            if (moisture >= 68 && moisture <= 72) quality += 10;
            else if (moisture >= 65 && moisture <= 75) quality += 5;
            
            // pH score (optimal: 7.5)
            if (pH >= 7.2 && pH <= 7.8) quality += 10;
            else if (pH >= 7.0 && pH <= 8.0) quality += 5;
            
            // Nitrogen score (optimal: 2.0%)
            if (nitrogen >= 1.8 && nitrogen <= 2.2) quality += 10;
            else if (nitrogen >= 1.6 && nitrogen <= 2.4) quality += 5;
            
            return Math.min(100, quality);
        }

        function calculateCompostSystem() {
            updateCompostCalculations();
            showToast('ØªÙ… Ø­Ø³Ø§Ø¨ Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ==================== Main Calculations ====================
        function calculateAll() {
            // Get all input values
            const roomLength = parseFloat(document.getElementById('roomLength').value);
            const roomWidth = parseFloat(document.getElementById('roomWidth').value);
            const aisleWidth = parseFloat(document.getElementById('aisleWidth').value);
            const shelfLevels = parseInt(document.getElementById('shelfLevels').value);
            const shelfWidth = parseFloat(document.getElementById('shelfWidth').value);
            const compostDensity = parseFloat(document.getElementById('compostDensity').value);
            const yieldPerSqM = parseFloat(document.getElementById('yieldPerSqM').value);
            const exchangeRate = parseFloat(document.getElementById('exchangeRate').value);
            const compostPrice = parseFloat(document.getElementById('compostPrice').value);
            const mushroomPrice = parseFloat(document.getElementById('mushroomPrice').value);
            const operationalCosts = parseFloat(document.getElementById('operationalCosts').value);
            const phase = document.getElementById('compostPhase').value;
            
            // Engineering Calculations
            let rowCount = Math.floor((roomWidth - 1) / (shelfWidth + aisleWidth));
            if (rowCount < 1) rowCount = 1;
            
            const needsCrossAisle = roomLength > 12;
            const crossAisleWidth = 1.2;
            
            const effectiveShelfLength = needsCrossAisle ? 
                (roomLength - crossAisleWidth - 1) / 2 : 
                (roomLength - 1);
            
            const areaPerShelf = effectiveShelfLength * shelfWidth;
            const totalArea = areaPerShelf * shelfLevels * rowCount * (needsCrossAisle ? 2 : 1);
            
            // Agriculture Calculations
            const totalCompost = (totalArea * compostDensity) / 1000;
            
            // Peat Calculations
            const peatThickness = parseFloat(document.getElementById('peatThickness').value);
            const totalPeat = totalArea * peatThickness * 10;
            
            // Determine cycles per year
            let cyclesPerYear;
            switch(phase) {
                case "2": cyclesPerYear = 5; break;
                case "3": cyclesPerYear = 6; break;
                case "4": cyclesPerYear = 8; break;
                default: cyclesPerYear = 6;
            }
            
            const productionPerCycle = totalArea * yieldPerSqM;
            const annualYield = (productionPerCycle * cyclesPerYear) / 1000;
            
            // Financial Calculations with peat cost
            const peatCostPerLiter = parseFloat(document.getElementById('peatPrice').value);
            const treatmentCostPerLiter = updateTreatmentCost();
            const peatCost = (totalPeat * peatCostPerLiter) + (totalPeat * treatmentCostPerLiter);
            
            const revenuePerCycle = productionPerCycle * mushroomPrice;
            const costPerCycle = (totalCompost * compostPrice) + operationalCosts + peatCost;
            const profitPerCycle = revenuePerCycle - costPerCycle;
            const annualProfitSYP = profitPerCycle * cyclesPerYear * exchangeRate;
            
            // Calculate trends (compared to defaults)
            const defaultArea = 18 * 5.5; // Default room size
            const defaultProfit = 15000; // Default profit estimate
            
            const areaTrend = ((totalArea - defaultArea) / defaultArea) * 100;
            const profitTrend = ((profitPerCycle - defaultProfit) / defaultProfit) * 100;
            
            // Update UI
            document.getElementById('totalArea').textContent = totalArea.toFixed(1);
            document.getElementById('totalCompost').textContent = totalCompost.toFixed(1);
            document.getElementById('totalPeat').textContent = Math.round(totalPeat).toLocaleString();
            document.getElementById('annualYield').textContent = annualYield.toFixed(1);
            document.getElementById('profitCycle').textContent = profitPerCycle.toLocaleString(undefined, {maximumFractionDigits: 0});
            document.getElementById('profitAnnualSYP').textContent = annualProfitSYP.toLocaleString(undefined, {maximumFractionDigits: 0});
            
            // Update trends
            document.getElementById('areaTrend').textContent = `${areaTrend >= 0 ? '+' : ''}${areaTrend.toFixed(1)}%`;
            document.getElementById('areaTrend').className = `stat-trend ${areaTrend >= 0 ? 'trend-up' : 'trend-down'}`;
            
            document.getElementById('profitTrend').textContent = `${profitTrend >= 0 ? '+' : ''}${profitTrend.toFixed(1)}%`;
            document.getElementById('profitTrend').className = `stat-trend ${profitTrend >= 0 ? 'trend-up' : 'trend-down'}`;
            
            // Update peat requirements
            calculatePeatRequirements();
            
            // Update compost volume
            document.getElementById('compostVolume').value = totalCompost.toFixed(1);
            document.getElementById('compostVolumeRange').value = totalCompost.toFixed(1);
            document.getElementById('compostVolumeValue').textContent = `${totalCompost.toFixed(1)} Ø·Ù†`;
            updateCompostCalculations();
            
            // Draw layout
            drawFarmLayout(roomLength, roomWidth, rowCount, shelfWidth, aisleWidth, 
                          effectiveShelfLength, needsCrossAisle, crossAisleWidth, 
                          totalCompost/rowCount/(needsCrossAisle?2:1));
            
            // Update charts
            updateCharts();
            
            showToast('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ==================== Farm Layout Drawing ====================
        function drawFarmLayout(L, W, rows, sW, aW, sL, hasCross, crossW, weightPerBlock) {
            const canvas = document.getElementById('farmCanvas');
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const margin = 80;
            const scale = Math.min(
                (canvas.width - margin * 2) / L,
                (canvas.height - margin * 2) / W
            );
            
            // Draw room outline with shadow
            ctx.shadowColor = 'rgba(0, 0, 0, 0.2)';
            ctx.shadowBlur = 15;
            ctx.shadowOffsetX = 5;
            ctx.shadowOffsetY = 5;
            
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = 6;
            ctx.strokeRect(margin, margin, L * scale, W * scale);
            
            ctx.shadowColor = 'transparent';
            
            // Draw room dimensions
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`${L.toFixed(1)} Ù…`, margin + (L * scale) / 2, margin - 25);
            
            ctx.save();
            ctx.translate(margin - 25, margin + (W * scale) / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.textAlign = 'center';
            ctx.fillText(`${W.toFixed(1)} Ù…`, 0, 0);
            ctx.restore();
            
            // Draw shelves with gradient
            let currentY = margin + (0.5 * scale);
            const shelfGradient = ctx.createLinearGradient(0, currentY, 0, currentY + (sW * scale));
            shelfGradient.addColorStop(0, '#27ae60');
            shelfGradient.addColorStop(1, '#219653');
            
            const crossAisleGradient = ctx.createLinearGradient(0, currentY, 0, currentY + (sW * scale));
            crossAisleGradient.addColorStop(0, '#3498db');
            crossAisleGradient.addColorStop(1, '#2980b9');
            
            for (let i = 0; i < rows; i++) {
                const x1 = margin + (0.5 * scale);
                
                // Draw shelf with shadow
                ctx.shadowColor = 'rgba(39, 174, 96, 0.3)';
                ctx.shadowBlur = 10;
                ctx.shadowOffsetX = 3;
                ctx.shadowOffsetY = 3;
                
                ctx.fillStyle = shelfGradient;
                ctx.fillRect(x1, currentY, sL * scale, sW * scale);
                
                ctx.shadowColor = 'transparent';
                
                // Draw shelf border
                ctx.strokeStyle = '#219653';
                ctx.lineWidth = 2;
                ctx.strokeRect(x1, currentY, sL * scale, sW * scale);
                
                // Draw weight text
                ctx.fillStyle = 'white';
                ctx.font = 'bold 12px Arial';
                ctx.textAlign = 'left';
                ctx.fillText(`${weightPerBlock.toFixed(1)}T`, x1 + 10, currentY + (sW * scale) / 2 + 4);
                
                if (hasCross) {
                    const x2 = x1 + (sL + crossW) * scale;
                    
                    // Draw cross aisle
                    ctx.fillStyle = crossAisleGradient;
                    ctx.fillRect(x1 + sL * scale, currentY, crossW * scale, sW * scale);
                    
                    // Draw second shelf
                    ctx.fillStyle = shelfGradient;
                    ctx.fillRect(x2, currentY, sL * scale, sW * scale);
                    ctx.strokeRect(x2, currentY, sL * scale, sW * scale);
                    
                    // Draw weight text on second shelf
                    ctx.fillStyle = 'white';
                    ctx.fillText(`${weightPerBlock.toFixed(1)}T`, x2 + 10, currentY + (sW * scale) / 2 + 4);
                    
                    if (i === 0) {
                        // Label cross aisle
                        ctx.fillStyle = '#2c3e50';
                        ctx.font = '11px Arial';
                        ctx.textAlign = 'center';
                        ctx.fillText(
                            `Ù…Ù…Ø± Ø¹Ø±Ø¶ÙŠ ${crossW}Ù…`, 
                            x1 + sL * scale + (crossW * scale) / 2, 
                            currentY + sW * scale + 20
                        );
                    }
                }
                
                if (i < rows - 1) {
                    // Label aisle
                    ctx.fillStyle = '#7f8c8d';
                    ctx.font = '10px Arial';
                    ctx.textAlign = 'right';
                    ctx.fillText(
                        `Ù…Ù…Ø± ${aW}Ù…`, 
                        margin + L * scale + 15, 
                        currentY + (sW + aW/2) * scale
                    );
                }
                
                currentY += (sW + aW) * scale;
            }
            
            // Draw ventilation areas
            ctx.fillStyle = 'rgba(231, 76, 60, 0.1)';
            ctx.fillRect(margin, margin, L * scale, 0.5 * scale); // Top
            ctx.fillRect(margin, margin + W * scale - 0.5 * scale, L * scale, 0.5 * scale); // Bottom
            ctx.fillRect(margin, margin, 0.5 * scale, W * scale); // Left
            ctx.fillRect(margin + L * scale - 0.5 * scale, margin, 0.5 * scale, W * scale); // Right
            
            // Draw info text
            const levels = parseInt(document.getElementById('shelfLevels').value);
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'left';
            ctx.fillText(
                `Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ø¨Ù‚Ø§Øª: ${levels} Ù…Ø³ØªÙˆÙŠØ§Øª | Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ÙØ¹Ø§Ù„Ø©: ${(parseFloat(document.getElementById('totalArea').textContent) || 0).toFixed(1)} Ù…Â²`, 
                margin + 10, 
                margin + W * scale + 30
            );
            
            const phase = document.getElementById('compostPhase').value;
            let phaseText = '';
            switch(phase) {
                case "2": phaseText = "Ø·ÙˆØ± II"; break;
                case "3": phaseText = "Ø·ÙˆØ± III"; break;
                case "4": phaseText = "Ø·ÙˆØ± IV"; break;
            }
            
            ctx.fillText(
                `Ù†ÙˆØ¹ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª: ${phaseText} | Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ${document.getElementById('annualYield').textContent} Ø·Ù†/Ø³Ù†Ø©`, 
                margin + L * scale - 400, 
                margin + W * scale + 30
            );
        }

        // ==================== Charts ====================
        function updateCharts() {
            // Cost Distribution Chart
            const compostCost = parseFloat(document.getElementById('totalCompost').textContent) * 
                              parseFloat(document.getElementById('compostPrice').value);
            const peatCost = parseFloat(document.getElementById('peatCostResult').textContent) || 0;
            const operationalCosts = parseFloat(document.getElementById('operationalCosts').value);
            const profit = parseFloat(document.getElementById('profitCycle').textContent.replace(/,/g, '')) || 0;
            
            if (charts.costDistribution) {
                charts.costDistribution.destroy();
            }
            
            const costCtx = document.getElementById('costDistributionChart').getContext('2d');
            charts.costDistribution = new Chart(costCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª', 'Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³', 'Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©', 'Ø§Ù„Ø±Ø¨Ø­'],
                    datasets: [{
                        data: [compostCost, peatCost, operationalCosts, profit],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.8)',
                            'rgba(54, 162, 235, 0.8)',
                            'rgba(255, 206, 86, 0.8)',
                            'rgba(75, 192, 192, 0.8)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)'
                        ],
                        borderWidth: 2,
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            rtl: true,
                            labels: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                },
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.raw || 0;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((value / total) * 100);
                                    return `${label}: $${value.toLocaleString()} (${percentage}%)`;
                                }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });
            
            // Peat Comparison Chart
            if (charts.peatComparison) {
                charts.peatComparison.destroy();
            }
            
            const peatCtx = document.getElementById('peatComparisonChart').getContext('2d');
            charts.peatComparison = new Chart(peatCtx, {
                type: 'bar',
                data: {
                    labels: ['Ø§Ù„Ø³ÙˆØ±ÙŠØ©', 'Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©', 'Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©', 'Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©', 'Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©'],
                    datasets: [{
                        label: 'Ø§Ù„ØªÙƒÙ„ÙØ© ($/Ù…Â²)',
                        data: [1.35, 1.80, 1.20, 2.00, 2.50],
                        backgroundColor: 'rgba(54, 162, 235, 0.7)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 2,
                        borderRadius: 5,
                        order: 2
                    }, {
                        label: 'Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© (%)',
                        data: [100, 118, 90, 125, 130],
                        type: 'line',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.1)',
                        borderWidth: 3,
                        pointBackgroundColor: 'rgba(75, 192, 192, 1)',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 6,
                        fill: true,
                        tension: 0.3,
                        order: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Ø§Ù„Ù‚ÙŠÙ…Ø©',
                                font: {
                                    family: 'Cairo',
                                    size: 14
                                }
                            },
                            ticks: {
                                font: {
                                    family: 'Cairo'
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom',
                            rtl: true,
                            labels: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                },
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.dataset.label || '';
                                    const value = context.raw || 0;
                                    if (context.datasetIndex === 0) {
                                        return `${label}: $${value}`;
                                    } else {
                                        return `${label}: ${value}%`;
                                    }
                                }
                            }
                        }
                    }
                }
            });
            
            // Profitability Chart
            if (charts.profitability) {
                charts.profitability.destroy();
            }
            
            const profitCtx = document.getElementById('profitabilityChart').getContext('2d');
            const monthlyProfit = (parseFloat(document.getElementById('profitCycle').textContent.replace(/,/g, '')) || 0) * 
                                 (parseFloat(document.getElementById('compostPhase').value) === '3' ? 0.5 : 0.4);
            
            charts.profitability = new Chart(profitCtx, {
                type: 'line',
                data: {
                    labels: ['ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ', 'ÙŠÙˆÙ„ÙŠÙˆ', 'Ø£ØºØ³Ø·Ø³', 'Ø³Ø¨ØªÙ…Ø¨Ø±', 'Ø£ÙƒØªÙˆØ¨Ø±', 'Ù†ÙˆÙÙ…Ø¨Ø±', 'Ø¯ÙŠØ³Ù…Ø¨Ø±'],
                    datasets: [{
                        label: 'Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø´Ù‡Ø±ÙŠ ($)',
                        data: Array(12).fill(0).map((_, i) => {
                            const base = monthlyProfit;
                            const seasonFactor = i >= 2 && i <= 5 ? 1.2 : (i >= 9 && i <= 11 ? 1.1 : 0.9);
                            const randomFactor = 0.8 + Math.random() * 0.4;
                            return base * seasonFactor * randomFactor;
                        }),
                        borderColor: '#4BC0C0',
                        backgroundColor: 'rgba(75, 192, 192, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#4BC0C0',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 5,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Ø§Ù„Ø±Ø¨Ø­ ($)',
                                font: {
                                    family: 'Cairo',
                                    size: 14
                                }
                            },
                            ticks: {
                                font: {
                                    family: 'Cairo'
                                },
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom',
                            rtl: true,
                            labels: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                },
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Ø§Ù„Ø±Ø¨Ø­: $${context.raw.toLocaleString()}`;
                                }
                            }
                        }
                    }
                }
            });
            
            // Sensitivity Analysis Chart
            if (charts.sensitivity) {
                charts.sensitivity.destroy();
            }
            
            const sensitivityCtx = document.getElementById('sensitivityChart').getContext('2d');
            const baseYield = parseFloat(document.getElementById('yieldPerSqM').value) || 30;
            const mushroomPrice = parseFloat(document.getElementById('mushroomPrice').value) || 2.5;
            const compostPrice = parseFloat(document.getElementById('compostPrice').value) || 280;
            const peatPrice = parseFloat(document.getElementById('peatPrice').value) || 0.03;
            const phase = parseFloat(document.getElementById('compostPhase').value) || 3;
            
            charts.sensitivity = new Chart(sensitivityCtx, {
                type: 'radar',
                data: {
                    labels: ['Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹', 'Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©/Ù…Â²', 'ØªÙƒÙ„ÙØ© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª', 'ØªÙƒÙ„ÙØ© Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³', 'Ø¹Ø¯Ø¯ Ø§Ù„Ø¯ÙˆØ±Ø§Øª', 'Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©'],
                    datasets: [{
                        label: 'ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©',
                        data: [
                            mushroomPrice * 40,
                            baseYield * 3,
                            compostPrice / 3,
                            peatPrice * 3000,
                            phase * 40,
                            100 - (parseFloat(document.getElementById('operationalCosts').value) / 5000 * 100)
                        ],
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 3,
                        pointBackgroundColor: 'rgba(255, 99, 132, 1)',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            ticks: {
                                font: {
                                    family: 'Cairo'
                                }
                            },
                            pointLabels: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom',
                            rtl: true,
                            labels: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                },
                                padding: 20
                            }
                        }
                    }
                }
            });
            
            // Growth Chart
            if (charts.growth) {
                charts.growth.destroy();
            }
            
            const growthCtx = document.getElementById('growthChart').getContext('2d');
            charts.growth = new Chart(growthCtx, {
                type: 'line',
                data: {
                    labels: ['Ø§Ù„ÙŠÙˆÙ… 1', 'Ø§Ù„ÙŠÙˆÙ… 3', 'Ø§Ù„ÙŠÙˆÙ… 7', 'Ø§Ù„ÙŠÙˆÙ… 10', 'Ø§Ù„ÙŠÙˆÙ… 14', 'Ø§Ù„ÙŠÙˆÙ… 18', 'Ø§Ù„ÙŠÙˆÙ… 21', 'Ø§Ù„ÙŠÙˆÙ… 25'],
                    datasets: [{
                        label: 'Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© (Â°Ù…)',
                        data: [25, 55, 65, 60, 45, 25, 18, 18],
                        borderColor: '#FF6384',
                        backgroundColor: 'rgba(255, 99, 132, 0.1)',
                        borderWidth: 3,
                        yAxisID: 'y',
                        tension: 0.4
                    }, {
                        label: 'Ù†Ù…Ùˆ Ø§Ù„Ù…Ø´ÙŠØ¬Ø© (%)',
                        data: [0, 5, 15, 40, 70, 90, 95, 100],
                        borderColor: '#36A2EB',
                        backgroundColor: 'rgba(54, 162, 235, 0.1)',
                        borderWidth: 3,
                        yAxisID: 'y1',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            ticks: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                }
                            }
                        },
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© (Â°Ù…)',
                                font: {
                                    family: 'Cairo',
                                    size: 14
                                }
                            },
                            ticks: {
                                font: {
                                    family: 'Cairo'
                                }
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Ù†Ù…Ùˆ Ø§Ù„Ù…Ø´ÙŠØ¬Ø© (%)',
                                font: {
                                    family: 'Cairo',
                                    size: 14
                                }
                            },
                            ticks: {
                                font: {
                                    family: 'Cairo'
                                }
                            },
                            grid: {
                                drawOnChartArea: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom',
                            rtl: true,
                            labels: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                },
                                padding: 20
                            }
                        }
                    }
                }
            });
            
            // Cost Yield Chart
            if (charts.costYield) {
                charts.costYield.destroy();
            }
            
            const costYieldCtx = document.getElementById('costYieldChart').getContext('2d');
            const mixTypes = ['Ø§Ù„Ø³ÙˆØ±ÙŠØ©', 'Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©', 'Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©', 'Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©', 'Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©'];
            const mixCosts = [1.35, 1.80, 1.20, 2.00, 2.50];
            const mixYields = [30, 35, 27, 37, 39];
            
            charts.costYield = new Chart(costYieldCtx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Ø®Ù„Ø·Ø§Øª Ø§Ù„Ø¨ÙŠØªÙ…ÙˆØ³',
                        data: mixCosts.map((cost, i) => ({
                            x: cost,
                            y: mixYields[i]
                        })),
                        backgroundColor: mixCosts.map((cost, i) => {
                            const colors = ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF'];
                            return colors[i];
                        }),
                        borderColor: mixCosts.map((cost, i) => {
                            const colors = ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF'];
                            return colors[i];
                        }),
                        borderWidth: 2,
                        pointRadius: 8,
                        pointHoverRadius: 12
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Ø§Ù„ØªÙƒÙ„ÙØ© ($/Ù…Â²)',
                                font: {
                                    family: 'Cairo',
                                    size: 14
                                }
                            },
                            ticks: {
                                font: {
                                    family: 'Cairo'
                                }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© (ÙƒØ¬Ù…/Ù…Â²)',
                                font: {
                                    family: 'Cairo',
                                    size: 14
                                }
                            },
                            ticks: {
                                font: {
                                    family: 'Cairo'
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom',
                            rtl: true,
                            labels: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                },
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const index = context.dataIndex;
                                    return `${mixTypes[index]}: $${mixCosts[index]} â†’ ${mixYields[index]} ÙƒØ¬Ù…/Ù…Â²`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function updateCompostingChart() {
            if (charts.composting) {
                charts.composting.destroy();
            }
            
            const compostingCtx = document.getElementById('compostingChart').getContext('2d');
            
            charts.composting = new Chart(compostingCtx, {
                type: 'line',
                data: {
                    labels: ['Ø§Ù„ÙŠÙˆÙ… 1', 'Ø§Ù„ÙŠÙˆÙ… 3', 'Ø§Ù„ÙŠÙˆÙ… 5', 'Ø§Ù„ÙŠÙˆÙ… 7', 'Ø§Ù„ÙŠÙˆÙ… 10', 'Ø§Ù„ÙŠÙˆÙ… 14', 'Ø§Ù„ÙŠÙˆÙ… 18', 'Ø§Ù„ÙŠÙˆÙ… 21'],
                    datasets: [{
                        label: 'Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© (Â°Ù…)',
                        data: [25, 45, 60, 65, 55, 40, 30, 25],
                        borderColor: '#FF6384',
                        backgroundColor: 'rgba(255, 99, 132, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }, {
                        label: 'Ù†Ø¶Ø¬ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª (%)',
                        data: [0, 15, 40, 60, 80, 90, 95, 100],
                        borderColor: '#36A2EB',
                        backgroundColor: 'rgba(54, 162, 235, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Ø§Ù„Ù‚ÙŠÙ…Ø©',
                                font: {
                                    family: 'Cairo',
                                    size: 14
                                }
                            },
                            ticks: {
                                font: {
                                    family: 'Cairo'
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom',
                            rtl: true,
                            labels: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                },
                                padding: 20
                            }
                        }
                    }
                }
            });
        }

        function updatePeatCostChart(peatCost, treatmentCost, perliteCost) {
            if (charts.peatCost) {
                charts.peatCost.destroy();
            }
            
            const peatCostCtx = document.getElementById('peatCostChart').getContext('2d');
            
            charts.peatCost = new Chart(peatCostCtx, {
                type: 'pie',
                data: {
                    labels: ['Ø¨ÙŠØªÙ…ÙˆØ³ Ø£Ø³Ø§Ø³ÙŠ', 'ØªÙƒÙ„ÙØ© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©', 'Ø¨ÙŠØ±Ù„Ø§ÙŠØª'],
                    datasets: [{
                        data: [peatCost - treatmentCost - perliteCost, treatmentCost, perliteCost],
                        backgroundColor: [
                            'rgba(75, 192, 192, 0.8)',
                            'rgba(255, 206, 86, 0.8)',
                            'rgba(153, 102, 255, 0.8)'
                        ],
                        borderColor: [
                            'rgba(75, 192, 192, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            rtl: true,
                            labels: {
                                font: {
                                    family: 'Cairo',
                                    size: 12
                                },
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.raw || 0;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((value / total) * 100);
                                    return `${label}: $${value.toFixed(2)} (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // ==================== Comparison Table Filter ====================
        function filterComparison(filter) {
            const rows = document.querySelectorAll('#comparisonTable tbody tr');
            
            rows.forEach(row => {
                if (filter === 'all') {
                    row.style.display = '';
                } else if (row.classList.contains(filter)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
            
            // Update indicators
            document.querySelectorAll('.phase-indicator').forEach(indicator => {
                indicator.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
        }

        function updateComparisonTable() {
            // This function can be expanded to update comparison table data dynamically
        }

        // ==================== Save/Load Configuration ====================
        function saveConfiguration() {
            const name = prompt('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ù„Ù„ØªÙƒÙˆÙŠÙ†:', `ØªÙƒÙˆÙŠÙ† ${new Date().toLocaleDateString('ar-SA')}`);
            if (!name) return;
            
            const config = {
                id: Date.now(),
                name: name,
                date: new Date().toISOString(),
                version: '8.0',
                data: {}
            };
            
            // Save all input values
            document.querySelectorAll('input, select, textarea').forEach(element => {
                if (element.id) {
                    config.data[element.id] = element.value;
                }
            });
            
            // Save current calculations
            config.results = {
                totalArea: document.getElementById('totalArea').textContent,
                totalCompost: document.getElementById('totalCompost').textContent,
                totalPeat: document.getElementById('totalPeat').textContent,
                annualYield: document.getElementById('annualYield').textContent,
                profitCycle: document.getElementById('profitCycle').textContent,
                profitAnnualSYP: document.getElementById('profitAnnualSYP').textContent
            };
            
            savedConfigurations.push(config);
            localStorage.setItem('mushroomConfigs', JSON.stringify(savedConfigurations));
            
            updateSavedConfigsCount();
            updateStorageInfo();
            showToast(`ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙƒÙˆÙŠÙ† "${name}" Ø¨Ù†Ø¬Ø§Ø­`);
        }

        function loadConfiguration() {
            if (savedConfigurations.length === 0) {
                showToast('Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙƒÙˆÙŠÙ†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©', 'warning');
                return;
            }
            
            const configNames = savedConfigurations.map((config, index) => 
                `${index + 1}. ${config.name} (${new Date(config.date).toLocaleDateString('ar-SA')})`
            ).join('\n');
            
            const choice = prompt(`Ø§Ø®ØªØ± ØªÙƒÙˆÙŠÙ† Ù„Ù„ØªØ­Ù…ÙŠÙ„:\n${configNames}\n\nØ£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù…:`);
            const index = parseInt(choice) - 1;
            
            if (index >= 0 && index < savedConfigurations.length) {
                const config = savedConfigurations[index];
                
                // Load all values
                for (const [key, value] of Object.entries(config.data)) {
                    const element = document.getElementById(key);
                    if (element) {
                        element.value = value;
                    }
                }
                
                // Recalculate everything
                validateInputs();
                updatePhaseSettings();
                updateTreatmentCost();
                updateCompostCalculations();
                updatePeatCalculations();
                calculateAll();
                
                showToast(`ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙƒÙˆÙŠÙ†: ${config.name}`);
            }
        }

        function showSavedConfigs() {
            if (savedConfigurations.length === 0) {
                alert('Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙƒÙˆÙŠÙ†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©');
                return;
            }
            
            let message = 'Ø§Ù„ØªÙƒÙˆÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©:\n\n';
            savedConfigurations.forEach((config, index) => {
                const date = new Date(config.date).toLocaleDateString('ar-SA');
                message += `${index + 1}. ${config.name}\n`;
                message += `   ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${date}\n`;
                message += `   ğŸ“ Ø§Ù„Ù…Ø³Ø§Ø­Ø©: ${config.data.roomLength || '?'} Ã— ${config.data.roomWidth || '?'} Ù…\n`;
                message += `   ğŸ„ Ù†ÙˆØ¹ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆØ³Øª: ${config.data.compostPhase === '3' ? 'Ø·ÙˆØ± III' : 
                                               config.data.compostPhase === '2' ? 'Ø·ÙˆØ± II' : 'Ø·ÙˆØ± IV'}\n`;
                message += `   ğŸ’° Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…Ù‚Ø¯Ø±: ${config.results?.profitCycle || '?'} $/Ø¯ÙˆØ±Ø©\n\n`;
            });
            
            alert(message);
        }

        function backupConfigs() {
            const data = JSON.stringify(savedConfigurations, null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `mushroom_configs_backup_${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            showToast('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©');
        }

        function restoreConfigs() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = function(e) {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    try {
                        const data = JSON.parse(e.target.result);
                        savedConfigurations = data;
                        localStorage.setItem('mushroomConfigs', JSON.stringify(data));
                        updateSavedConfigsCount();
                        updateStorageInfo();
                        showToast('ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­');
                    } catch (error) {
                        showToast('Ø®Ø·Ø£ ÙÙŠ Ù…Ù„Ù Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©', 'error');
                    }
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }

        function clearAllConfigs() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙƒÙˆÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.')) {
                localStorage.removeItem('mushroomConfigs');
                savedConfigurations = [];
                updateSavedConfigsCount();
                updateStorageInfo();
                showToast('ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙƒÙˆÙŠÙ†Ø§Øª', 'warning');
            }
        }

        function updateSavedConfigsCount() {
            document.getElementById('savedConfigsCount').textContent = savedConfigurations.length;
        }

        function updateStorageInfo() {
            const data = localStorage.getItem('mushroomConfigs') || '[]';
            const size = new Blob([data]).size;
            document.getElementById('storageUsed').textContent = (size / 1024).toFixed(2);
            
            const lastUpdate = savedConfigurations.length > 0 ? 
                new Date(savedConfigurations[savedConfigurations.length - 1].date).toLocaleDateString('ar-SA') : 
                'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª';
            document.getElementById('lastUpdate').textContent = lastUpdate;
        }

        // ==================== Export Functions ====================
        function exportData(format) {
            const data = {
                metadata: {
                    title: 'ØªÙ‚Ø±ÙŠØ± Ù†Ø¸Ø§Ù… Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± Ø§Ù„Ø£Ø¨ÙŠØ¶',
                    version: '8.0',
                    date: new Date().toISOString(),
                    generatedBy: 'Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± Ø§Ù„Ø£Ø¨ÙŠØ¶'
                },
                inputs: {
                    roomDimensions: {
                        length: document.getElementById('roomLength').value,
                        width: document.getElementById('roomWidth').value,
                        aisleWidth: document.getElementById('aisleWidth').value
                    },
                    shelves: {
                        levels: document.getElementById('shelfLevels').value,
                        width: document.getElementById('shelfWidth').value
                    },
                    agriculture: {
                        compostPhase: document.getElementById('compostPhase').value,
                        compostDensity: document.getElementById('compostDensity').value,
                        yield: document.getElementById('yieldPerSqM').value
                    },
                    financial: {
                        exchangeRate: document.getElementById('exchangeRate').value,
                        compostPrice: document.getElementById('compostPrice').value,
                        mushroomPrice: document.getElementById('mushroomPrice').value,
                        operationalCosts: document.getElementById('operationalCosts').value
                    },
                    peat: {
                        type: document.getElementById('peatType').value,
                        thickness: document.getElementById('peatThickness').value,
                        perlite: document.getElementById('addPerlite').value,
                        price: document.getElementById('peatPrice').value,
                        treatment: document.getElementById('treatmentMethod').value
                    }
                },
                results: {
                    totalArea: document.getElementById('totalArea').textContent,
                    totalCompost: document.getElementById('totalCompost').textContent,
                    totalPeat: document.getElementById('totalPeat').textContent,
                    annualYield: document.getElementById('annualYield').textContent,
                    profitCycle: document.getElementById('profitCycle').textContent,
                    profitAnnualSYP: document.getElementById('profitAnnualSYP').textContent,
                    peatCost: document.getElementById('peatCostResult').textContent,
                    compostQuality: document.getElementById('compostQuality').textContent
                }
            };
            
            let content, fileName, mimeType;
            
            if (format === 'csv') {
                content = convertToCSV(data);
                fileName = 'mushroom_farm_report.csv';
                mimeType = 'text/csv';
            } else if (format === 'excel') {
                content = convertToCSV(data);
                fileName = 'mushroom_farm_report.xls';
                mimeType = 'application/vnd.ms-excel';
            }
            
            downloadFile(content, fileName, mimeType);
            showToast(`ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ€ ${format.toUpperCase()}`);
        }

        function convertToCSV(obj) {
            const rows = [];
            
            // Add headers
            rows.push(['Ø§Ù„Ù‚Ø³Ù…', 'Ø§Ù„Ù…Ø¹Ù„Ù…Ø©', 'Ø§Ù„Ù‚ÙŠÙ…Ø©', 'Ø§Ù„ÙˆØ­Ø¯Ø©', 'Ø§Ù„ÙˆØµÙ']);
            
            // Add metadata
            rows.push(['Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØµÙÙŠØ©', 'Ø§Ù„Ø¹Ù†ÙˆØ§Ù†', obj.metadata.title, '', '']);
            rows.push(['Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØµÙÙŠØ©', 'Ø§Ù„Ø¥ØµØ¯Ø§Ø±', obj.metadata.version, '', '']);
            rows.push(['Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØµÙÙŠØ©', 'Ø§Ù„ØªØ§Ø±ÙŠØ®', new Date(obj.metadata.date).toLocaleDateString('ar-SA'), '', '']);
            rows.push(['', '', '', '', '']);
            
            // Add inputs
            for (const [section, values] of Object.entries(obj.inputs)) {
                for (const [key, value] of Object.entries(values)) {
                    rows.push([section, key, value, '', '']);
                }
                rows.push(['', '', '', '', '']);
            }
            
            // Add results
            for (const [section, values] of Object.entries(obj.results)) {
                for (const [key, value] of Object.entries(values)) {
                    rows.push([section, key, value, '', '']);
                }
                rows.push(['', '', '', '', '']);
            }
            
            return rows.map(row => row.join(',')).join('\n');
        }

        function downloadFile(content, fileName, mimeType) {
            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = fileName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function exportToPDF() {
            showToast('Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF... Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ø¨Ø¶Ø¹ Ø«ÙˆØ§Ù†Ù', 'warning');
            
            // In a real implementation, you would use a PDF library like jsPDF
            setTimeout(() => {
                showToast('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF Ø¨Ù†Ø¬Ø§Ø­. ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø³ÙŠØªÙ… ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ù…Ù„Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.');
            }, 2000);
        }

        function exportReport(type) {
            if (type === 'full') {
                // Export comprehensive report
                const report = generateFullReport();
                const blob = new Blob([report], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `mushroom_full_report_${new Date().toISOString().split('T')[0]}.html`;
                a.click();
                URL.revokeObjectURL(url);
                showToast('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙƒØ§Ù…Ù„');
            }
        }

        function generateFullReport() {
            return `
                <!DOCTYPE html>
                <html dir="rtl" lang="ar">
                <head>
                    <meta charset="UTF-8">
                    <title>ØªÙ‚Ø±ÙŠØ± ÙƒØ§Ù…Ù„ - Ù†Ø¸Ø§Ù… Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± Ø§Ù„Ø£Ø¨ÙŠØ¶</title>
                    <style>
                        body { font-family: 'Cairo', sans-serif; padding: 40px; }
                        h1, h2, h3 { color: #2c3e50; }
                        .section { margin-bottom: 40px; }
                        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        th, td { border: 1px solid #ddd; padding: 12px; text-align: center; }
                        th { background: #2c3e50; color: white; }
                    </style>
                </head>
                <body>
                    <h1>ØªÙ‚Ø±ÙŠØ± Ù†Ø¸Ø§Ù… Ø²Ø±Ø§Ø¹Ø© Ø§Ù„ÙØ·Ø± Ø§Ù„Ø£Ø¨ÙŠØ¶ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± 8.0</h1>
                    <p>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø±ÙŠØ±: ${new Date().toLocaleDateString('ar-SA')}</p>
                    
                    <div class="section">
                        <h2>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©</h2>
                        <!-- Add input data here -->
                    </div>
                    
                    <div class="section">
                        <h2>Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©</h2>
                        <!-- Add calculated results here -->
                    </div>
                    
                    <div class="section">
                        <h2>Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø§Ù„ÙŠ</h2>
                        <!-- Add financial analysis here -->
                    </div>
                </body>
                </html>
            `;
        }

        function exportCharts() {
            showToast('Ø¬Ø§Ø±ÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©...', 'warning');
            
            // In a real implementation, you would export charts as images
            setTimeout(() => {
                showToast('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©. ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø³ÙŠØªÙ… ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØµÙˆØ±.');
            }, 1500);
        }

        function printReport() {
            window.print();
        }

        // ==================== Utility Functions ====================
        function resetToDefaults() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙŠÙ… Ø¥Ù„Ù‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©ØŸ Ø³ÙŠØªÙ… ÙÙ‚Ø¯Ø§Ù† Ø£ÙŠ ØªØºÙŠÙŠØ±Ø§Øª ØºÙŠØ± Ù…Ø­ÙÙˆØ¸Ø©.')) {
                // Room dimensions
                document.getElementById('roomLength').value = 18;
                document.getElementById('roomLengthRange').value = 18;
                document.getElementById('roomLengthValue').textContent = '18 Ù…';
                
                document.getElementById('roomWidth').value = 5.5;
                document.getElementById('roomWidthRange').value = 5.5;
                document.getElementById('roomWidthValue').textContent = '5.5 Ù…';
                
                // Shelves
                document.getElementById('aisleWidth').value = 0.8;
                document.getElementById('shelfLevels').value = 5;
                document.getElementById('shelfWidth').value = 1.2;
                
                // Agriculture
                document.getElementById('compostPhase').value = 3;
                document.getElementById('compostDensity').value = 95;
                document.getElementById('yieldPerSqM').value = 30;
                
                // Financial
                document.getElementById('exchangeRate').value = 15000;
                document.getElementById('compostPrice').value = 280;
                document.getElementById('mushroomPrice').value = 2.5;
                document.getElementById('operationalCosts').value = 400;
                
                // Peat
                document.getElementById('peatType').value = 2;
                document.getElementById('peatThickness').value = 4.5;
                document.getElementById('peatThicknessRange').value = 4.5;
                document.getElementById('thicknessValue').textContent = '4.5 Ø³Ù…';
                document.getElementById('addPerlite').value = 0;
                document.getElementById('peatPrice').value = 0.03;
                document.getElementById('treatmentMethod').value = 'pasteurization';
                document.getElementById('targetMoisture').value = 75;
                
                // Compost
                document.getElementById('compostType').value = 'wheat';
                document.getElementById('compostVolume').value = 10;
                document.getElementById('compostVolumeRange').value = 10;
                document.getElementById('compostVolumeValue').textContent = '10 Ø·Ù†';
                document.getElementById('compostMoisture').value = 70;
                document.getElementById('compostpH').value = 7.5;
                document.getElementById('compostNitrogen').value = 2.0;
                
                // Update phase indicators
                document.querySelectorAll('.phase-indicator').forEach(indicator => {
                    indicator.classList.remove('active');
                });
                document.querySelectorAll('.phase-indicator')[1].classList.add('active'); // Phase III
                
                // Recalculate everything
                validateInputs();
                updatePhaseSettings();
                updateTreatmentCost();
                updateCompostCalculations();
                updatePeatCalculations();
                calculateAll();
                
                showToast('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¶Ø¨Ø· Ø¥Ù„Ù‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');
            }
        }

        function optimizeDesign() {
            showToast('Ø¬Ø§Ø±ÙŠ ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØµÙ…ÙŠÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹...', 'warning');
            
            // Simple optimization algorithm
            const roomLength = parseFloat(document.getElementById('roomLength').value);
            const roomWidth = parseFloat(document.getElementById('roomWidth').value);
            
            // Optimize aisle width for the given room size
            let optimalAisleWidth = 0.8;
            if (roomWidth < 4) optimalAisleWidth = 0.7;
            else if (roomWidth > 8) optimalAisleWidth = 1.0;
            
            // Optimize shelf levels
            let optimalShelfLevels = 5;
            if (roomLength > 20) optimalShelfLevels = 6;
            else if (roomLength < 10) optimalShelfLevels = 4;
            
            // Apply optimizations
            document.getElementById('aisleWidth').value = optimalAisleWidth;
            document.getElementById('shelfLevels').value = optimalShelfLevels;
            
            // Recalculate
            validateInputs();
            calculateAll();
            
            showToast(`ØªÙ… Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù…Ù…Ø± ${optimalAisleWidth}Ù…ØŒ ${optimalShelfLevels} Ø·Ø¨Ù‚Ø§Øª`);
        }

        function showAdvancedSettings() {
            alert('Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©:\n\n' +
                  '1. Ø¯Ù‚Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª: Ø¹Ø§Ù„ÙŠØ©\n' +
                  '2. ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ: Ù…ÙØ¹Ù„\n' +
                  '3. Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ: Ù…ÙØ¹Ù„\n' +
                  '4. Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ: Ø£Ø³Ø¨ÙˆØ¹ÙŠ\n' +
                  '5. Ø¬ÙˆØ¯Ø© Ø§Ù„Ø±Ø³ÙˆÙ…: Ø¹Ø§Ù„ÙŠØ©\n\n' +
                  'Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªØŒ Ø±Ø§Ø¬Ø¹ Ù…Ù„Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©.');
        }

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.className = `toast ${type}`;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 4000);
        }

        // ==================== UI Helpers ====================
function toggleCollapsible(id) {
    const collapsible = document.getElementById(id);
    const content = collapsible.querySelector('.collapsible-content');
    const chevron = collapsible.querySelector('.fa-chevron-down');
    
    if (collapsible.classList.contains('active')) {
        // Collapse
        content.style.maxHeight = '0';
        content.style.padding = '0';
        chevron.style.transform = 'rotate(0deg)';
        collapsible.classList.remove('active');
    } else {
        // Expand
        content.style.maxHeight = content.scrollHeight + 'px';
        content.style.padding = '20px';
        chevron.style.transform = 'rotate(180deg)';
        collapsible.classList.add('active');
    }
}

function initCollapsibles() {
    const collapsibles = document.querySelectorAll('.collapsible');
    collapsibles.forEach(collapsible => {
        const content = collapsible.querySelector('.collapsible-content');
        const chevron = collapsible.querySelector('.fa-chevron-down');
        
        // Set initial state
        if (collapsible.classList.contains('active')) {
            content.style.maxHeight = content.scrollHeight + 'px';
            content.style.padding = '20px';
            chevron.style.transform = 'rotate(180deg)';
        } else {
            content.style.maxHeight = '0';
            content.style.padding = '0';
            chevron.style.transform = 'rotate(0deg)';
        }
    });
}

        function initTooltips() {
            // Tooltips are initialized via CSS
        }

        // ==================== Scientific Visualization Helpers ====================
        function updateScientificViz() {
            // Update visualization bars based on current values
            const efficiency = calculateEfficiency();
            const maintenance = calculateMaintenanceEase();
            
            document.getElementById('spaceEfficiencyBar').style.width = efficiency + '%';
            document.getElementById('maintenanceEaseBar').style.width = maintenance + '%';
        }

        function calculateEfficiency() {
            const roomLength = parseFloat(document.getElementById('roomLength').value);
            const roomWidth = parseFloat(document.getElementById('roomWidth').value);
            const aisleWidth = parseFloat(document.getElementById('aisleWidth').value);
            const shelfWidth = parseFloat(document.getElementById('shelfWidth').value);
            
            // Calculate space efficiency
            const totalArea = roomLength * roomWidth;
            const shelfArea = calculateShelfArea(roomLength, roomWidth, aisleWidth, shelfWidth);
            const efficiency = (shelfArea / totalArea) * 100;
            
            return Math.min(100, efficiency);
        }

        function calculateMaintenanceEase() {
            const aisleWidth = parseFloat(document.getElementById('aisleWidth').value);
            const shelfLevels = parseInt(document.getElementById('shelfLevels').value);
            
            // Calculate maintenance ease score
            let score = 70; // Base score
            
            // Aisle width contribution
            if (aisleWidth >= 0.8 && aisleWidth <= 1.0) score += 20;
            else if (aisleWidth >= 0.7 && aisleWidth < 0.8) score += 10;
            else if (aisleWidth > 1.0) score += 5;
            else score -= 10;
            
            // Shelf levels contribution
            if (shelfLevels <= 5) score += 10;
            else if (shelfLevels <= 6) score += 5;
            else score -= 5;
            
            return Math.min(100, Math.max(0, score));
        }

        function calculateShelfArea(L, W, aW, sW) {
            const rowCount = Math.floor((W - 1) / (sW + aW)) || 1;
            const needsCrossAisle = L > 12;
            const crossAisleWidth = 1.2;
            const effectiveShelfLength = needsCrossAisle ? (L - crossAisleWidth - 1) / 2 : (L - 1);
            const areaPerShelf = effectiveShelfLength * sW;
            return areaPerShelf * parseInt(document.getElementById('shelfLevels').value) * rowCount * (needsCrossAisle ? 2 : 1);
        }

        // ==================== Final Initialization ====================
        // Initialize when page loads
        window.onload = function() {
            // Initial calculations
            validateInputs();
            updatePhaseSettings();
            updateTreatmentCost();
            updateCompostCalculations();
            updatePeatCalculations();
            calculateAll();
            
            // Update visualizations
            updateScientificViz();
            
            // Initialize tooltips
            initTooltips();
            
            // Hide loading
            setTimeout(() => {
                hideLoading();
            }, 1000);
        };
    </script>
</body>
</html>